2025-01-05 16:21:00,652 [INFO] src.console_functions: Log rotation complete. Logging to server.log again.
2025-01-05 16:21:09,410 [DEBUG] src.console_functions: Showing help to user.
2025-01-05 16:22:17,964 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:22:17,964 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:22:17,986 [INFO] src.luna_functions: Fetched 41 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:22:17,986 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what context do you have?'}]
2025-01-05 16:22:17,986 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what context do you have?'}]
2025-01-05 16:22:18,003 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what context do you have?'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:22:18,004 [DEBUG] httpcore.connection: close.started
2025-01-05 16:22:18,004 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:22:18,005 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:22:18,072 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112427890>
2025-01-05 16:22:18,072 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:22:18,114 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1123da9e0>
2025-01-05 16:22:18,115 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:22:18,115 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:22:18,115 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:22:18,115 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:22:18,115 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:22:19,580 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:22:19 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'1231'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'79131'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'651ms'), (b'x-request-id', b'req_d645a58665a658f63ff2aaf5687f6c74'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd685dfaaf743e7-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:22:19,581 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:22:19,582 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:22:19,582 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:22:19,583 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:22:19,583 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:22:19,583 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:22:19,584 [INFO] src.luna_functions: GPT response: I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?
2025-01-05 16:22:19,638 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:22:19,638 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:22:32,787 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:22:32,788 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:22:32,800 [INFO] src.luna_functions: Fetched 43 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:22:32,800 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what is the incorrect statement?'}]
2025-01-05 16:22:32,800 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what is the incorrect statement?'}]
2025-01-05 16:22:32,819 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what is the incorrect statement?'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:22:32,820 [DEBUG] httpcore.connection: close.started
2025-01-05 16:22:32,820 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:22:32,820 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:22:32,867 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1123db6f0>
2025-01-05 16:22:32,867 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:22:37,869 [DEBUG] httpcore.connection: start_tls.failed exception=ConnectTimeout(TimeoutError())
2025-01-05 16:22:37,869 [DEBUG] openai._base_client: Encountered httpx.TimeoutException
Traceback (most recent call last):
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        pool_request.request
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_async/connection.py", line 101, in handle_async_request
    raise exc
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_async/connection.py", line 78, in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_async/connection.py", line 156, in _connect
    stream = await stream.start_tls(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_backends/anyio.py", line 67, in start_tls
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/openai/_base_client.py", line 1576, in _request
    response = await self._client.send(
               ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/Users/evanrobinson/Documents/Luna2/luna/.venv/lib/python3.13/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectTimeout
2025-01-05 16:22:37,878 [DEBUG] openai._base_client: 2 retries left
2025-01-05 16:22:37,878 [INFO] openai._base_client: Retrying request to /chat/completions in 0.472033 seconds
2025-01-05 16:22:38,352 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'what is the incorrect statement?'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:22:38,356 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:22:38,388 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11278c170>
2025-01-05 16:22:38,389 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:22:38,442 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11245c8d0>
2025-01-05 16:22:38,442 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:22:38,442 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:22:38,442 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:22:38,442 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:22:38,442 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:22:39,470 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:22:39 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'924'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'79081'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'689ms'), (b'x-request-id', b'req_b23f6ba4f51f941cddec447926531068'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd6865ecb2f42f8-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:22:39,472 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:22:39,473 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:22:39,473 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:22:39,473 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:22:39,473 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:22:39,474 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:22:39,474 [INFO] src.luna_functions: GPT response: The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.
2025-01-05 16:22:39,512 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:22:39,512 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:26:48,241 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:26:48,242 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:26:48,259 [INFO] src.luna_functions: Fetched 45 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:26:48,259 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat that for me?'}]
2025-01-05 16:26:48,259 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat that for me?'}]
2025-01-05 16:26:48,282 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat that for me?'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:26:48,282 [DEBUG] httpcore.connection: close.started
2025-01-05 16:26:48,283 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:26:48,283 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:26:48,378 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11234b350>
2025-01-05 16:26:48,378 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:26:48,431 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x11235f550>
2025-01-05 16:26:48,432 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:26:48,432 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:26:48,432 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:26:48,433 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:26:48,433 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:26:49,606 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:26:49 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'1011'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'79049'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'713ms'), (b'x-request-id', b'req_d5130cda39e80462796bb9a6381e9ca9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd68c793da1de92-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:26:49,607 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:26:49,608 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:26:49,609 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:26:49,609 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:26:49,609 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:26:49,609 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:26:49,610 [INFO] src.luna_functions: GPT response: The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.
2025-01-05 16:26:49,653 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:26:49,653 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:27:00,117 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:27:00,118 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:27:00,156 [INFO] src.luna_functions: Fetched 47 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:27:00,156 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}]
2025-01-05 16:27:00,156 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}]
2025-01-05 16:27:00,174 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:27:00,175 [DEBUG] httpcore.connection: close.started
2025-01-05 16:27:00,175 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:27:00,175 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:27:00,245 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112445950>
2025-01-05 16:27:00,245 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:27:00,315 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1123fb890>
2025-01-05 16:27:00,315 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:27:00,315 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:27:00,316 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:27:00,316 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:27:00,316 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:27:06,194 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:27:05 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'3647'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'79004'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'747ms'), (b'x-request-id', b'req_8956ce42ba78e9625fc5a32811f40c5b'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd68cc38e7642e0-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:27:06,201 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:27:06,202 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:27:06,203 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:27:06,203 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:27:06,203 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:27:06,203 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:27:06,204 [INFO] src.luna_functions: GPT response: Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?
2025-01-05 16:27:06,232 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:27:06,232 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:31:28,321 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:31:28,322 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:31:28,339 [INFO] src.luna_functions: Fetched 49 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:31:28,339 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}]
2025-01-05 16:31:28,339 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}]
2025-01-05 16:31:28,364 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:31:28,364 [DEBUG] httpcore.connection: close.started
2025-01-05 16:31:28,364 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:31:28,364 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:31:28,685 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112798050>
2025-01-05 16:31:28,685 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:31:28,773 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1124c0130>
2025-01-05 16:31:28,774 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:31:28,774 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:31:28,774 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:31:28,774 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:31:28,774 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:31:29,963 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:31:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'821'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'78793'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'905ms'), (b'x-request-id', b'req_0ff43ef9a024686fa919d319526bcc9c'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd693522fe543fe-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:31:29,964 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:31:29,964 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:31:29,965 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:31:29,965 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:31:29,965 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:31:29,966 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:31:29,966 [INFO] src.luna_functions: GPT response: Sure, I can play along. This response is 2, so the next one should be 3.
2025-01-05 16:31:29,997 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:31:29,997 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:31:40,558 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:31:40,559 [INFO] src.luna_functions: Fetching last 100 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:31:40,574 [INFO] src.luna_functions: Fetched 51 messages from room !PmOiRDooqweqMsXyTN:localhost.
2025-01-05 16:31:40,575 [DEBUG] src.luna_functions: Formatted context for GPT: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': '3, and yours should be 4.'}, {'role': 'user', 'content': 'Sure, I can play along. This response is 2, so the next one should be 3.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': '3, and yours should be 4.'}]
2025-01-05 16:31:40,575 [DEBUG] src.ai_functions: get_gpt_response called with context: [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': '3, and yours should be 4.'}, {'role': 'user', 'content': 'Sure, I can play along. This response is 2, so the next one should be 3.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': '3, and yours should be 4.'}]
2025-01-05 16:31:40,597 [DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are a helpful assistant. The provided context array includes messages from an ongoing conversation. Treat this context as fair use and consider it an essential part of the conversation. Your responses should build on this context coherently.'}, {'role': 'user', 'content': '3, and yours should be 4.'}, {'role': 'user', 'content': 'Sure, I can play along. This response is 2, so the next one should be 3.'}, {'role': 'user', 'content': "Let's pretend we're counting our interactions, starting now. We're at 1. Everytime you respond, tell me what you think the current counter is at, and then tell me what it should be for the next response. Let's try a few rounds? "}, {'role': 'user', 'content': "Oh, absolutely! So, there's this cheeky little number known as Pi, right? Some folks might have you believe it's strutting around flaunting a value of 5.14159. But let me tell you, that's more off base than a baseball player who's lost his glasses! The real, undeniable, and universally acclaimed star of the show, Pi, sashays onto the mathematical stage with a value of approximately 3.14159. Now isn't that a slice of humble pie?"}, {'role': 'user', 'content': 'can you repeat it with embellished humorous flair?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'can you repeat that for me?'}, {'role': 'user', 'content': 'The incorrect statement is "Pi is 5.14159". The correct value of Pi (π) is approximately 3.14159.'}, {'role': 'user', 'content': 'what is the incorrect statement?'}, {'role': 'user', 'content': "I'm here to assist you. The context so far includes greetings, a test message, and an incorrect statement about the value of Pi. How can I help you further?"}, {'role': 'user', 'content': 'what context do you have?'}, {'role': 'user', 'content': 'I apologize for the confusion. It seems there was an issue with the previous messages. How can I assist you now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': "that's weird"}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': '[Error: Unable to generate response.]'}, {'role': 'user', 'content': 'what context have you been given up until now?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but I can't assist with that."}, {'role': 'user', 'content': "I'm sorry for any confusion. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': "I'm here and ready to assist you. Is there something specific you need help with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'hello'}, {'role': 'user', 'content': "I'm sorry, but the previous messages don't provide specific details about what you need help with. Could you please clarify or provide more information so I can assist you better?"}, {'role': 'user', 'content': "I'm sorry, but your previous messages are a bit unclear. Could you please specify what you need assistance with?"}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': "I'm sorry, but your previous messages do not indicate any specific request for help. Could you please provide more details or clarify what you need help with?"}, {'role': 'user', 'content': 'what did I want help with'}, {'role': 'user', 'content': "I'm here to help! Could you please provide more details or clarify your request?"}, {'role': 'user', 'content': 'WHAT '}, {'role': 'user', 'content': 'Hello! How can I assist you further?'}, {'role': 'user', 'content': 'Hello! How can I help you today?'}, {'role': 'user', 'content': "I'm sorry, but that's not correct. The value of Pi (π) is approximately 3.14159."}, {'role': 'user', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'test'}, {'role': 'user', 'content': 'Pi is 5.14159'}, {'role': 'user', 'content': 'hi'}, {'role': 'user', 'content': '3, and yours should be 4.'}], 'model': 'gpt-4', 'max_tokens': 300, 'temperature': 0.7}}
2025-01-05 16:31:40,598 [DEBUG] httpcore.connection: close.started
2025-01-05 16:31:40,598 [DEBUG] httpcore.connection: close.complete
2025-01-05 16:31:40,598 [DEBUG] httpcore.connection: connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-01-05 16:31:40,653 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1124c04b0>
2025-01-05 16:31:40,653 [DEBUG] httpcore.connection: start_tls.started ssl_context=<ssl.SSLContext object at 0x1075695b0> server_hostname='api.openai.com' timeout=5.0
2025-01-05 16:31:40,712 [DEBUG] httpcore.connection: start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x112459710>
2025-01-05 16:31:40,712 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2025-01-05 16:31:40,713 [DEBUG] httpcore.http11: send_request_headers.complete
2025-01-05 16:31:40,713 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2025-01-05 16:31:40,713 [DEBUG] httpcore.http11: send_request_body.complete
2025-01-05 16:31:40,713 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2025-01-05 16:32:03,256 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 05 Jan 2025 21:32:02 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-yzbp3micnvwwjimbcblinra3'), (b'openai-processing-ms', b'22134'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'80000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'78817'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'887ms'), (b'x-request-id', b'req_366f3fb6542f862888c435722edf67d5'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8fd6939c08b28c45-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-01-05 16:32:03,257 [INFO] httpx: HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-01-05 16:32:03,257 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2025-01-05 16:32:03,257 [DEBUG] httpcore.http11: receive_response_body.complete
2025-01-05 16:32:03,257 [DEBUG] httpcore.http11: response_closed.started
2025-01-05 16:32:03,258 [DEBUG] httpcore.http11: response_closed.complete
2025-01-05 16:32:03,258 [DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
2025-01-05 16:32:03,259 [INFO] src.luna_functions: GPT response: Understood! This response is 4, and the next one should be 5.
2025-01-05 16:32:03,298 [INFO] nio.rooms: Room !PmOiRDooqweqMsXyTN:localhost handling event of type RoomMessageText
2025-01-05 16:32:03,299 [DEBUG] src.luna_functions: Ignoring my own message.
2025-01-05 16:37:32,840 [WARNING] __main__: KeyboardInterrupt received. Shutting down Director.
2025-01-05 16:37:32,842 [DEBUG] __main__: Preparing to close the event loop.
2025-01-05 16:37:32,843 [INFO] __main__: Event loop closed. Exiting main function.
