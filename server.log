2025-01-04 00:47:05,287 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:47:05,287 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:47:05,287 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:47:05,287 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:47:05,570 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_LjAcZZxbnYgxxqfBChYm_3cmOpj', 'home_server': 'localhost', 'device_id': 'YWFOMDXLPH'}
2025-01-04 00:47:05,571 [DEBUG] src.luna_functions: Login response object: Logged in as @director:localhost, device id: YWFOMDXLPH.
2025-01-04 00:47:05,571 [INFO] src.luna_functions: Director logged in successfully.
2025-01-04 00:47:05,571 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 00:47:05,585 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_331_8_20_21_1_1_36_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 46609}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 6941758}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 6941720}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 6180129}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 6030677}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 5741016}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 5531022}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 5338939}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 5314421}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 5262822}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 4418234}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_331_8_20_21_1_1_36_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 8601760}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8601719}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 8601720}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 8601735}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8601719}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 8601726}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 3921436}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 3796029}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 3796018}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 3796008}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 3437849}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 3437828}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 3324820}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 3324808}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 1744689}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 1688138}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_331_8_20_21_1_1_36_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 5178423}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 10942245}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 10942237}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 10942258}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 10942291}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 10942237}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 00:47:05,590 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:08,600 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 00:47:08,609 [INFO] src.console_functions: Console screen cleared.
2025-01-04 00:47:13,275 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:47:13,276 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:47:15,112 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:47:35,601 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_331_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:48:05,614 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 106636}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:48:35,631 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:05,639 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:05,644 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_335_8_20_21_1_1_36_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 166669}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:35,655 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_335_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:49,298 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:49:49,299 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:49:50,295 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:49:50,295 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:49:50,295 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:49:50,295 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:49:50,813 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 90295}
2025-01-04 00:49:50,814 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:49:50,814 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 90295ms
2025-01-04 00:50:36,464 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:50:36,465 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:50:36,484 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10408f620>
2025-01-04 00:50:46,213 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:50:46,213 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:50:46,213 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:50:46,213 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:50:46,740 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 34373}
2025-01-04 00:50:46,741 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:50:46,741 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 34373ms
2025-01-04 00:51:06,285 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:51:21,410 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_zIEtOVZdknHMMitvZFPm_1dkFg2', 'home_server': 'localhost', 'device_id': 'EUNDEAEUIT'}
2025-01-04 00:51:21,411 [DEBUG] src.luna_functions: Login response object: Logged in as @director:localhost, device id: EUNDEAEUIT.
2025-01-04 00:51:21,411 [INFO] src.luna_functions: Director logged in successfully.
2025-01-04 00:51:21,412 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 00:51:21,428 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_341_8_20_21_1_1_37_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 7197601}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 7197563}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 6435972}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 6286520}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 5996859}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 5786865}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 5594782}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 5570264}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 5518665}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 4674077}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_341_8_20_21_1_1_37_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 8857603}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8857562}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 8857563}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 8857578}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8857562}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 8857569}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 4177279}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 4051872}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 4051861}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 4051851}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 3693692}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 3693671}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 3580663}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 3580651}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 2000532}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 1943981}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_341_8_20_21_1_1_37_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 5434266}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 11198088}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 11198080}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 11198101}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 11198134}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 11198080}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 00:51:21,436 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:46,219 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 00:51:46,252 [INFO] src.console_functions: Console screen cleared.
2025-01-04 00:51:47,651 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:51:47,651 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:51:51,459 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_341_8_20_21_1_1_37_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:52:21,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_343_8_20_21_1_1_37_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30000, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:52:34,375 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:52:34,376 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:52:36,988 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:52:36,989 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:52:36,989 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:52:36,989 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:52:37,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 256931}
2025-01-04 00:52:37,511 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:52:37,511 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 256931ms
2025-01-04 00:52:41,315 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:52:41,315 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:52:45,322 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:53:07,512 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:53:07,512 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:53:07,528 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102ebb620>
2025-01-04 00:53:08,998 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:53:08,999 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:53:08,999 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:53:08,999 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:53:09,509 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 224927}
2025-01-04 00:53:09,509 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:53:09,510 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 224927ms
2025-01-04 00:56:26,366 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:56:26,367 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:56:26,382 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x11035f620>
2025-01-04 01:17:25,656 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:17:25,657 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:18:39,962 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:18:39,963 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:04,926 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:04,926 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:16,385 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:16,385 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:54,287 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:54,287 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:20:44,837 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:20:44,837 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:10,690 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:10,691 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:20,244 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:20,244 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:28,829 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:28,830 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:14,148 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:14,148 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:14,475 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_XQycgxnVLUPrZAWFndZW_2273wZ', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:14,498 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104dc7620>
2025-01-04 01:23:14,498 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x104f8dd30>, 551922.047933208)])']
connector: <aiohttp.connector.TCPConnector object at 0x104dc7770>
2025-01-04 01:23:25,618 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:25,618 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:25,891 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_VAWUTSjJfnZGPiAESkym_02WVjF', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:25,910 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x11278f620>
2025-01-04 01:23:25,911 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x113251d30>, 551933.463908875)])']
connector: <aiohttp.connector.TCPConnector object at 0x11278f770>
2025-01-04 01:23:56,712 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:56,713 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:56,991 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_FlJfIWVuyCtVByJTlroo_2JgzDa', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:57,021 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10528f620>
2025-01-04 01:23:57,021 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x105455d30>, 551964.562698291)])']
connector: <aiohttp.connector.TCPConnector object at 0x10528f770>
2025-01-04 01:27:44,948 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:27:44,948 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:27:45,229 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_bYVsvTHZOUHSSlFRCBSZ_33Sj1F', 'home_server': 'localhost', 'device_id': 'KFBUBDDALL'}
2025-01-04 01:27:45,230 [INFO] __main__: Director logged in successfully.
2025-01-04 01:27:45,230 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:27:45,284 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_385_0_20_21_1_1_39_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 50, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 21639}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9381458}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9381420}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8619829}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8470377}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8180716}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 7970722}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7778639}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7754121}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7702522}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 6857934}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_384_0_20_21_1_1_39_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11041420}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11041426}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11041419}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11041460}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11041435}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11041419}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6361136}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6235729}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6235718}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6235708}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 5877549}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 5877528}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5764520}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5764508}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4184389}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4127838}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_384_0_20_21_1_1_39_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13381958}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13381945}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13381991}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7618123}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13381937}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13381937}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:27:45,291 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,291 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,291 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:28:03,305 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:28:03,305 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:28:15,304 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_387_0_20_21_1_1_39_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 51656}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:28:15,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_388_0_20_21_1_1_39_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:28:16,057 [DEBUG] src.console_functions: Raw input is: ['exit']
2025-01-04 01:28:16,058 [INFO] src.console_functions: Console received 'exit' command. Exiting process.
2025-01-04 01:28:25,311 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:28:25,312 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:28:25,342 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10788f620>
2025-01-04 01:29:30,140 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:29:30,140 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:29:30,428 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_bZxwDcWwJYpxPgMuUKaB_0s7JBM', 'home_server': 'localhost', 'device_id': 'RYUSULZDMB'}
2025-01-04 01:29:30,429 [INFO] __main__: Director logged in successfully.
2025-01-04 01:29:30,429 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:29:30,441 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_392_0_20_21_1_1_40_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9486616}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9486578}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8724987}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8575535}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8285874}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8075880}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7883797}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7859279}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7807680}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 6963092}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_392_0_20_21_1_1_40_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11146578}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11146618}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11146584}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11146577}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11146593}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11146577}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6466294}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6340887}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6340876}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6340866}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 5982707}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 5982686}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5869678}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5869666}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4289547}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4232996}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_392_0_20_21_1_1_40_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13487116}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13487103}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13487149}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7723281}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13487095}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13487095}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:29:30,445 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:32,544 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:29:32,546 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:29:34,639 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:30:00,467 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_394_0_20_21_1_1_40_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:30:30,505 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_394_0_20_21_1_1_40_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:30:58,443 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:30:58,443 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:30:58,475 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106273620>
2025-01-04 01:31:00,257 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:31:00,257 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:31:00,534 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_JfKcsHeQoSnaQQgFaTyc_13QKvy', 'home_server': 'localhost', 'device_id': 'EIBMTRNSGN'}
2025-01-04 01:31:00,548 [INFO] __main__: Director logged in successfully.
2025-01-04 01:31:00,548 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:31:00,560 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_397_0_20_21_1_1_41_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30035}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9576733}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9576695}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8815104}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8665652}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8375991}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8165997}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7973914}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7949396}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7897797}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7053209}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_397_0_20_21_1_1_41_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11236695}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11236735}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11236701}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11236694}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11236710}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11236694}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6556411}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6431004}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6430993}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6430983}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6072824}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6072803}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5959795}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5959783}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4379664}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4323113}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_397_0_20_21_1_1_41_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13577233}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13577220}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13577266}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7813398}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13577212}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13577212}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:31:00,565 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:02,505 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 01:31:02,575 [INFO] src.console_functions: Console screen cleared.
2025-01-04 01:31:19,328 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:31:19,329 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:31:19,351 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102d5b620>
2025-01-04 01:31:24,546 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:31:24,546 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:31:24,831 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_rxiFGdZKHdqnNdfItTAR_2hPsYD', 'home_server': 'localhost', 'device_id': 'HQGQVTMIUD'}
2025-01-04 01:31:24,831 [INFO] __main__: Director logged in successfully.
2025-01-04 01:31:24,832 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:31:24,842 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_397_0_20_21_1_1_42_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 54317}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9601015}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9600977}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8839386}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8689934}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8400273}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8190279}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7998196}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7973678}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7922079}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7077491}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_397_0_20_21_1_1_42_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11260977}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11261017}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11260983}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11260976}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11260992}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11260976}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6580693}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6455286}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6455275}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6455265}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6097106}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6097085}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5984077}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5984065}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4403946}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4347395}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_397_0_20_21_1_1_42_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13601515}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13601502}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13601548}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7837680}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13601494}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13601494}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:31:24,847 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:54,859 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 84336}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:24,879 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:54,893 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:54,911 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 144383}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:24,928 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:54,942 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:54,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_403_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 204430}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:34:21,520 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:34:21,520 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:34:21,551 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104ee3620>
2025-01-04 01:37:51,034 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:37:51,034 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:37:51,322 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_OsNzxkOvXQruUpCgMUgm_0YTeWW', 'home_server': 'localhost', 'device_id': 'OAPODGMQYT'}
2025-01-04 01:37:51,322 [INFO] __main__: Director logged in successfully.
2025-01-04 01:37:51,322 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:37:51,339 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_410_0_20_21_1_1_43_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 24795, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9987514}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9987476}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9225885}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9076433}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8786772}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8576778}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8384695}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8360177}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8308578}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7463990}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_410_0_20_21_1_1_43_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11647476}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11647516}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11647482}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11647475}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11647491}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11647475}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6967192}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6841785}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6841774}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6841764}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6483605}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6483584}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6370576}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6370564}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4790445}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4733894}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_410_0_20_21_1_1_43_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13988014}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13988001}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13988047}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8224179}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13987993}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13987993}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:37:51,344 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:54,201 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:37:54,202 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:37:56,685 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:38:21,360 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_410_0_20_21_1_1_43_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:38:51,392 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_43_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29997, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:39:13,283 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:39:13,283 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:39:13,319 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102467620>
2025-01-04 01:39:15,027 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:39:15,027 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:39:15,305 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_kVtPCeeNHcfBVVMkMSNt_3hxGmN', 'home_server': 'localhost', 'device_id': 'VFKVCKAMCI'}
2025-01-04 01:39:15,306 [INFO] __main__: Director logged in successfully.
2025-01-04 01:39:15,306 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:39:15,316 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_44_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 23910, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10071490}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10071452}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9309861}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9160409}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8870748}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8660754}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8468671}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8444153}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8392554}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7547966}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_412_0_20_21_1_1_44_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11731452}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11731492}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11731458}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11731451}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11731467}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11731451}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7051168}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6925761}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6925750}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6925740}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6567581}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6567560}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6454552}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6454540}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4874421}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4817870}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_412_0_20_21_1_1_44_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14071990}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14071977}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14072023}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8308155}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14071969}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14071969}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:39:15,323 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:17,963 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:39:17,964 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:39:18,672 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:39:45,357 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_44_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:15,383 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_414_0_20_21_1_1_44_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30000, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:45,396 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_414_0_20_21_1_1_44_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:45,433 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_415_0_20_21_1_1_44_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30026}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:59,084 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:40:59,084 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:40:59,103 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104507620>
2025-01-04 01:41:01,574 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:41:01,574 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:41:01,865 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_iGBCtzFZPNovXHDKFgMs_1vZiQK', 'home_server': 'localhost', 'device_id': 'XROWSPIFZE'}
2025-01-04 01:41:01,866 [INFO] __main__: Director logged in successfully.
2025-01-04 01:41:01,866 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:41:01,876 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_417_0_20_21_1_1_45_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 46471}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10178050}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10178012}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9416421}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9266969}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8977308}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8767314}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8575231}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8550713}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8499114}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7654526}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_417_0_20_21_1_1_45_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11838012}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11838052}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11838018}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11838011}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11838027}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11838011}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7157728}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7032321}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7032310}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7032300}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6674141}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6674120}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6561112}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6561100}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4980981}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4924430}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_417_0_20_21_1_1_45_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14178550}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14178537}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14178583}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8414715}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14178529}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14178529}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:41:01,883 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:05,051 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:41:31,911 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_417_0_20_21_1_1_45_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:41:40,188 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:41:40,189 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:41:40,229 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10441f620>
2025-01-04 01:41:41,810 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:41:41,810 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:41:42,327 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 268234}
2025-01-04 01:41:42,327 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:41:42,327 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 268234ms
2025-01-04 01:42:07,991 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:42:07,991 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:42:08,005 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106cdf770>
2025-01-04 01:42:09,446 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:42:09,446 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:42:09,963 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 240600}
2025-01-04 01:42:09,964 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:42:09,965 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 240600ms
2025-01-04 01:46:10,876 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_unIuLNiofpaZZaOTnzuo_2sv8PM', 'home_server': 'localhost', 'device_id': 'FVVFTZUMSE'}
2025-01-04 01:46:10,877 [INFO] __main__: Director logged in successfully.
2025-01-04 01:46:10,877 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:46:10,891 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_425_0_20_21_1_1_46_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 355486}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10487065}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10487027}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9725436}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9575984}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9286323}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9076329}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8884246}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8859728}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8808129}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7963541}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_425_0_20_21_1_1_46_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12147027}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12147067}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12147033}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12147026}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12147042}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12147026}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7466743}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7341336}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7341325}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7341315}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6983156}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6983135}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6870127}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6870115}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5289996}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5233445}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_425_0_20_21_1_1_46_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14487565}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14487552}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14487598}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8723730}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14487544}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14487544}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:46:10,896 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:33,653 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:46:40,929 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_425_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:47:10,975 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 415558}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30024, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:47:40,996 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:11,016 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:11,028 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 475622}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:41,047 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:11,064 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:11,072 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 535667}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:41,095 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:11,108 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:11,119 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_433_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 595714}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:14,823 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:50:14,824 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:50:14,860 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10755f620>
2025-01-04 01:50:17,245 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:50:17,246 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:50:17,770 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 86129}
2025-01-04 01:50:17,771 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:50:17,772 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 86129ms
2025-01-04 01:50:23,690 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:51:19,671 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:51:44,201 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_absAJsEsyEDnNhTxJnEv_0bRdJ7', 'home_server': 'localhost', 'device_id': 'GRPAGOLDNU'}
2025-01-04 01:51:44,201 [INFO] __main__: Director logged in successfully.
2025-01-04 01:51:44,201 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:51:44,213 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_436_0_20_21_1_1_47_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 688807}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10820386}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10820348}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10058757}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9909305}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9619644}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9409650}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9217567}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9193049}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9141450}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8296862}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_436_0_20_21_1_1_47_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12480348}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12480388}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12480354}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12480347}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12480363}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12480347}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7800064}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7674657}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7674646}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7674636}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7316477}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7316456}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7203448}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7203436}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5623317}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5566766}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_436_0_20_21_1_1_47_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14820886}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14820873}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14820919}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9057051}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14820865}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14820865}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:51:44,222 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:53,815 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:52:14,232 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_438_0_20_21_1_1_47_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 718825}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:52:18,697 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:52:18,697 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:52:18,698 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102da3620>
2025-01-04 01:52:19,930 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:52:19,931 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:52:20,450 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 296779}
2025-01-04 01:52:20,451 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:52:20,452 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 296779ms
2025-01-04 01:52:23,473 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:53:28,952 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:53:28,952 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:53:28,966 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102e67620>
2025-01-04 01:53:55,679 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:53:55,679 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:53:55,961 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_zGqEwZlLInUYEkZoOmQb_22NZsh', 'home_server': 'localhost', 'device_id': 'HCWXTWFXJA'}
2025-01-04 01:53:55,962 [INFO] __main__: Director logged in successfully.
2025-01-04 01:53:55,962 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:53:56,008 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 40, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 820603}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10952182}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10952144}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10190553}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10041101}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9751440}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9541446}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9349363}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9324845}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9273246}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8428658}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_442_0_20_21_1_1_48_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12612150}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12612184}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12612143}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12612159}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12612143}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12612144}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7931860}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7806453}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7806442}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7806432}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7448273}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7448252}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7335244}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7335232}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5755113}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5698562}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_442_0_20_21_1_1_48_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9188847}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14952715}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14952661}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14952669}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14952682}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14952661}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:53:56,015 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,017 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,017 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:54:26,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:54:56,037 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:55:26,058 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:55:56,098 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 940673}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:26,114 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:56,132 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:56,149 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_446_0_20_21_1_1_48_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1000745}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:57:05,524 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:57:05,526 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:57:05,526 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10520f620>
2025-01-04 01:57:09,868 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:57:09,869 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:57:10,150 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_NUfeMVAspEabYZvrzYNx_3VOaQR', 'home_server': 'localhost', 'device_id': 'DJUHGPNAND'}
2025-01-04 01:57:10,150 [INFO] __main__: Director logged in successfully.
2025-01-04 01:57:10,150 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:57:10,173 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_446_0_20_21_1_1_49_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1014768}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11146347}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11146309}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10384718}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10235266}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9945605}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9735611}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9543528}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9519010}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9467411}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8622823}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_446_0_20_21_1_1_49_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12806315}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12806349}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12806308}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12806324}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12806308}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12806309}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 8126025}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 8000618}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 8000607}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8000597}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7642438}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7642417}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7529409}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7529397}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5949278}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5892727}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_446_0_20_21_1_1_49_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9383012}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15146880}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15146826}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15146834}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15146847}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15146826}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:57:10,177 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:12,780 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:57:33,120 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:57:33,122 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:58:36,967 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:58:36,968 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:58:37,252 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_lxCFZVhzKVttJItEhZMN_4OMbfD', 'home_server': 'localhost', 'device_id': 'EFRURKOFWJ'}
2025-01-04 01:58:37,252 [INFO] __main__: Director logged in successfully.
2025-01-04 01:58:37,253 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:58:37,264 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's51_451_2_20_21_1_1_50_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11233439}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11233401}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10471810}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10322358}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10032697}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9822703}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9630620}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9606102}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9554503}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8709915}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_451_2_20_21_1_1_50_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12893407}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12893441}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12893400}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12893416}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12893400}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12893401}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 8087710}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 8087699}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8087689}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7729530}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7729509}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7616501}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7616489}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6036370}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5979819}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 15452}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}], 'prev_batch': 's41_451_2_20_21_1_1_50_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9470104}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15233972}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15233918}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15233926}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15233939}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15233918}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:37,269 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 01:58:37,292 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's52_451_2_20_21_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 17, 'transaction_id': '805181dc-1ec9-4abd-93fc-380c2f21b557'}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}], 'prev_batch': 's51_451_2_20_21_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:37,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,293 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:42,587 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's52_451_2_21_21_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's52_451_2_20_21_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:44,348 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_451_2_21_22_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 25}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}], 'prev_batch': 's52_451_2_21_22_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:44,350 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 01:59:14,395 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_453_2_21_22_1_1_50_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30020, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29949, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:59:14,891 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 01:59:14,932 [INFO] src.console_functions: Console screen cleared.
2025-01-04 01:59:15,773 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:59:15,773 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:59:17,409 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:59:17,409 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:59:22,764 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:59:22,764 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:59:23,046 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_MnVSOFOadonvcwUhLMTn_1Qvewe', 'home_server': 'localhost', 'device_id': 'LSEXKDATUL'}
2025-01-04 01:59:23,047 [INFO] __main__: Director logged in successfully.
2025-01-04 01:59:23,047 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:59:23,061 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_453_2_21_22_1_1_51_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11279233}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11279195}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10517604}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10368152}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10078491}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9868497}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9676414}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9651896}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9600297}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8755709}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_453_2_21_22_1_1_51_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12939201}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12939235}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12939194}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12939210}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12939194}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12939195}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8133483}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7775324}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7775303}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7662295}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7662283}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6082164}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6025613}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 61246}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 45782}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 38736}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}], 'prev_batch': 's43_453_2_21_22_1_1_51_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9515898}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15279766}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15279712}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15279720}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15279733}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15279712}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:59:23,065 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 01:59:23,078 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,079 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,079 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 01:59:23,084 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_453_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 14, 'transaction_id': 'a277e16f-5001-47d3-ab58-70bc69e626e9'}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}], 'prev_batch': 's53_453_2_21_22_1_1_51_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:59:23,084 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,084 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:27,892 [DEBUG] src.console_functions: Raw input is: ['create room test2']
2025-01-04 01:59:27,893 [WARNING] src.console_functions: Director client not initialized yet.
2025-01-04 01:59:32,347 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:59:53,103 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29931, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:23,119 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:53,135 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:53,144 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29919, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:07,173 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:01:23,155 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,168 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,180 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_459_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29890, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_460_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30028}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:02:23,333 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_460_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:02:53,344 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_462_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 90053}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:03:20,425 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:03:20,426 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:03:22,909 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:03:22,909 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:03:23,209 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_odzcjwrYQnPOFBICZqOr_0Q8MGZ', 'home_server': 'localhost', 'device_id': 'WTFVIJMWKO'}
2025-01-04 02:03:23,210 [INFO] __main__: Director logged in successfully.
2025-01-04 02:03:23,210 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:03:23,222 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_462_2_21_22_1_1_52_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 119933}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11519397}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11519359}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10757768}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10608316}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10318655}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10108661}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9916578}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9892060}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9840461}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8995873}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_462_2_21_22_1_1_52_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13179365}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13179399}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13179358}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13179374}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13179358}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13179359}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 8015488}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 8015467}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7902459}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7902447}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6322328}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6265777}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 301410}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 285946}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 278900}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 240152}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}], 'prev_batch': 's44_462_2_21_22_1_1_52_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9756062}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15519930}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15519876}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15519884}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15519897}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15519876}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:03:23,226 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:03:23,239 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,239 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,240 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:03:23,240 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,240 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,244 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_462_2_21_22_1_1_52_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 12, 'transaction_id': '6fc4cf93-5a6e-49c9-84c2-ae5947449d13'}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}], 'prev_batch': 's54_462_2_21_22_1_1_52_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:03:23,244 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,244 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:27,909 [DEBUG] src.console_functions: Raw input is: ['xlwe']
2025-01-04 02:03:27,909 [DEBUG] src.console_functions: Unrecognized command: xlwe
2025-01-04 02:03:30,331 [DEBUG] src.console_functions: Raw input is: ['xlwe']
2025-01-04 02:03:30,331 [DEBUG] src.console_functions: Unrecognized command: xlwe
2025-01-04 02:03:33,673 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:03:33,741 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:03:34,773 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:03:34,774 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:03:35,931 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:03:44,037 [DEBUG] src.console_functions: Raw input is: ['create channel Test2']
2025-01-04 02:03:44,039 [DEBUG] src.console_functions: Unrecognized command: create channel Test2
2025-01-04 02:03:49,220 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_463_2_21_22_1_1_52_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:03:49,238 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_463_2_22_22_1_1_52_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's55_463_2_21_22_1_1_52_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:04:00,728 [DEBUG] src.console_functions: Raw input is: ['invite admin Test2']
2025-01-04 02:04:00,731 [INFO] src.console_functions: (Console) Scheduling invite of 'admin' to Test2
2025-01-04 02:04:19,255 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_465_2_22_22_1_1_52_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29990, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:04:30,689 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:04:30,689 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:04:30,706 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106caf620>
2025-01-04 02:13:26,541 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:13:26,542 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:13:26,821 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_JqDJZvdbOyDAmZRZqPiW_3CBmfn', 'home_server': 'localhost', 'device_id': 'XRGQBBUYPE'}
2025-01-04 02:13:26,822 [INFO] __main__: Director logged in successfully.
2025-01-04 02:13:26,822 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:13:26,838 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_479_2_22_22_1_1_53_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12123012}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12122974}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11361383}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11211931}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10922270}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10712276}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10520193}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10495675}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10444076}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9599488}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_479_2_22_22_1_1_53_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13782980}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13783014}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13782973}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13782989}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13782973}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13782974}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 8619082}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 8506074}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8506062}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6925943}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6869392}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 905025}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 889561}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 882515}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 843767}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 603605}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}], 'prev_batch': 's45_479_2_22_22_1_1_53_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10359677}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16123545}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16123491}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16123499}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16123512}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16123491}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:26,842 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,882 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's56_479_2_22_22_1_1_53_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 24, 'transaction_id': '27f27653-6424-4c01-9ec6-c40271a13283'}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}], 'prev_batch': 's55_479_2_22_22_1_1_53_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:26,883 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,883 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:29,555 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:13:29,614 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:13:31,547 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:13:31,547 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:13:33,660 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:13:50,486 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:13:50,489 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:13:51,906 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:13:51,906 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:13:52,200 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_XGpNVkUmBRfQFuZRAinp_2ROXum', 'home_server': 'localhost', 'device_id': 'OCXXODXASG'}
2025-01-04 02:13:52,201 [INFO] __main__: Director logged in successfully.
2025-01-04 02:13:52,201 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:13:52,211 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's56_481_2_22_22_1_1_54_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12148384}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12148346}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11386755}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11237303}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10947642}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10737648}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10545565}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10521047}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10469448}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9624860}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_481_2_22_22_1_1_54_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13808352}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13808386}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13808345}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13808361}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13808345}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13808346}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 8531446}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8531434}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6951315}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6894764}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 930397}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 914933}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 907887}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 869139}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 628977}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25351}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}], 'prev_batch': 's46_481_2_22_22_1_1_54_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10385049}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16148917}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16148863}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16148871}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16148884}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16148863}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:52,219 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:13:52,219 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:52,219 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,245 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_22_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 21, 'transaction_id': '93e6a971-5327-43a2-b2c1-f83fe80fb89e'}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}], 'prev_batch': 's56_481_2_22_22_1_1_54_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:52,245 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,245 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:53,502 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:13:53,526 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:13:54,095 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:14:00,187 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:14:00,188 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:14:06,471 [DEBUG] src.console_functions: Raw input is: ['create room Test1']
2025-01-04 02:14:06,472 [INFO] src.console_functions: (Console) Scheduling creation of room 'Test1'
2025-01-04 02:14:19,366 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_23_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's57_481_2_22_22_1_1_54_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:14:49,399 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_23_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:15:19,431 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_483_2_23_22_1_1_54_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:15:33,876 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:15:33,877 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:15:33,905 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x103b5f620>
2025-01-04 02:15:35,520 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:15:35,520 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:15:35,804 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_jfTxxczHmJMyZhYTcYpT_1WyyfG', 'home_server': 'localhost', 'device_id': 'FOUWNKVZFE'}
2025-01-04 02:15:35,804 [INFO] __main__: Director logged in successfully.
2025-01-04 02:15:35,804 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:15:35,816 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_483_2_23_22_1_1_55_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 16367, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12251989}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12251951}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11490360}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11340908}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11051247}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10841253}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10649170}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10624652}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10573053}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9728465}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_483_2_23_22_1_1_55_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13911957}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13911991}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13911950}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13911966}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13911950}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13911951}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8635039}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 7054920}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6998369}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1034002}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1018538}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1011492}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 972744}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 732582}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 128956}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 103590}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}], 'prev_batch': 's47_483_2_23_22_1_1_55_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10488654}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16252522}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16252468}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16252476}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16252489}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16252468}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:15:35,822 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:15:35,822 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:15:35,822 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,825 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,825 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,825 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,825 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:15:35,825 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:15:35,841 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,847 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_483_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 19, 'transaction_id': '6628efbe-1fbd-4620-a1d8-7d1aa1300b25'}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}], 'prev_batch': 's57_483_2_23_22_1_1_55_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:15:35,847 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,847 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:37,993 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:15:47,148 [DEBUG] src.console_functions: Raw input is: ['create room test123']
2025-01-04 02:15:47,148 [INFO] src.console_functions: (Console) Scheduling creation of room 'test123'
2025-01-04 02:16:05,860 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30004, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29903, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:16:35,875 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:05,895 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:05,915 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29899, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:35,936 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:05,956 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:05,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_489_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29851, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:06,184 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_490_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30042}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:36,212 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_490_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:19:06,239 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 90121}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:19:36,273 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:06,300 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:06,324 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_494_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 150210}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:12,098 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:20:12,098 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:20:12,122 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10442b620>
2025-01-04 02:20:13,628 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:20:13,628 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:20:13,912 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_MryidbviJxBvOyeMziWp_4E6BnL', 'home_server': 'localhost', 'device_id': 'ZSWQQPUEGU'}
2025-01-04 02:20:13,912 [INFO] __main__: Director logged in successfully.
2025-01-04 02:20:13,913 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:20:13,924 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_494_2_23_22_1_1_56_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 157813}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12530098}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12530060}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11768469}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11619017}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11329356}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 11119362}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10927279}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10902761}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10851162}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 10006574}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_494_2_23_22_1_1_56_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 14190066}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 14190100}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14190059}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 14190075}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14190059}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 14190060}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 7333029}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 7276478}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1312111}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1296647}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1289601}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 1250853}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 1010691}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 407065}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 381699}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 278095}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}], 'prev_batch': 's48_494_2_23_22_1_1_56_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10766763}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16530631}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16530577}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16530585}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16530598}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16530577}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:20:13,932 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:20:13,932 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,935 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:20:13,935 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,952 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_494_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 13, 'transaction_id': 'a008a2c5-4f7f-4d9b-8d61-0350570b56df'}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}], 'prev_batch': 's58_494_2_23_22_1_1_56_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:20:13,952 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,952 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:15,884 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:20:19,864 [DEBUG] src.console_functions: Raw input is: ['create room test']
2025-01-04 02:20:19,865 [INFO] src.console_functions: (Console) Scheduling creation of room 'test'
2025-01-04 02:20:43,988 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_494_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:21:14,005 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 217892}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:21:44,020 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:14,032 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:14,039 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_498_2_23_22_1_1_56_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 277928}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:30,944 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:22:30,944 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:22:30,961 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10818f620>
2025-01-04 02:25:36,163 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:25:36,163 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:25:36,446 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_vqsqZxIHBZlPyasMaEMO_06a4LE', 'home_server': 'localhost', 'device_id': 'RYCVSYZZKR'}
2025-01-04 02:25:36,446 [INFO] __main__: Director logged in successfully.
2025-01-04 02:25:36,446 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:25:36,461 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_503_2_23_22_1_1_57_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 480349}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12852634}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12852596}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 12091005}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11941553}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11651892}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 11441898}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 11249815}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 11225297}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 11173698}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 10329110}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_503_2_23_22_1_1_57_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 14512602}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 14512636}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14512595}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 14512611}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14512595}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 14512596}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 7599014}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1634647}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1619183}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1612137}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 1573389}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 1333227}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 729601}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 704235}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 600631}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 322520}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}], 'prev_batch': 's49_503_2_23_22_1_1_57_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 11089299}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16853167}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16853113}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16853121}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16853134}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16853113}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:25:36,465 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,467 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,467 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:25:36,467 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,494 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,494 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,498 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_503_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 26, 'transaction_id': 'd8e03041-10ab-495b-861a-543118959cf5'}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}], 'prev_batch': 's59_503_2_23_22_1_1_57_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:25:36,498 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,498 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:38,574 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:25:41,795 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:25:41,795 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:25:46,947 [DEBUG] src.console_functions: Raw input is: ['create room Test3']
2025-01-04 02:25:46,947 [WARNING] src.console_functions: Director client not initialized yet.
2025-01-04 02:26:06,514 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_505_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30008, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 510398}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:42:37,340 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_505_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:42:37,496 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_509_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 51, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1501385}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:58:28,571 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_509_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:58:28,584 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_513_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2452474}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:14:25,338 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_513_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:14:25,473 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_517_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 15, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3409307}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:31:38,505 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_517_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:31:38,509 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_521_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 4442399}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:47:24,300 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_521_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:47:24,389 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_525_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 84, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5388278}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:24,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_528_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2400053}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 7788335}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:24,457 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_529_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:54,470 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_531_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 7818354}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:24,484 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_531_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:24,526 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_535_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 18, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 11448415}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:54,541 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_537_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 11478425}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:24,546 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_537_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:24,604 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_541_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15108493}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:54,651 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_543_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30019, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15138516}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:12,261 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_543_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:12,282 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_547_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 16956172}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:42,319 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_547_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:24,463 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_549_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1781937}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18768161}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:24,525 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_553_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 55, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18768413}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:54,555 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_555_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18798427}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:16,611 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_555_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:16,670 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_559_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 20620560}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:46,690 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_559_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:24,419 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_561_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1777488}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22428077}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:24,443 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_565_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22428333}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:54,467 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_567_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22458351}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:21,319 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_567_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:21,410 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_571_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 24, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24765299}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:51,432 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24795313}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:57,275 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:10:57,275 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:11:00,687 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:11:00,759 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:11:01,461 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:11:01,462 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:11:02,134 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:11:21,468 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:11:51,492 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:11:51,508 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_575_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24855397}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:10,999 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:12:10,999 [DEBUG] __main__: Closing event loop.
2025-01-04 09:12:12,661 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:12:12,662 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:12:12,948 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_feqrVYEaoelYAkhZXiUX_31HN1O', 'home_server': 'localhost', 'device_id': 'CHBGCBRSEM'}
2025-01-04 09:12:12,949 [INFO] __main__: Director logged in successfully.
2025-01-04 09:12:12,949 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:12:12,977 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_575_2_23_22_1_1_58_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 25, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24876867}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37249152}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37249114}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36487523}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36338071}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36048410}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 35838416}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 35646333}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 35621815}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35570216}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 34725628}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_575_2_23_22_1_1_58_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 38909120}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 38909154}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 38909113}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 38909129}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 38909113}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 38909114}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 26031165}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26015701}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26008655}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 25969907}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 25729745}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25126119}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25100753}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 24997149}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 24719038}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24396505}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}], 'prev_batch': 's50_575_2_23_22_1_1_58_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35485817}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41249685}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41249631}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41249639}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41249652}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41249631}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:12,981 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,982 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 09:12:13,002 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,008 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_575_2_23_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 22, 'transaction_id': '1bf2a9e3-18ea-4f8e-8d1c-0948a55871d2'}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's60_575_2_23_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:13,008 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,008 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:16,599 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:16,629 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:17,500 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:12:17,500 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:12:19,227 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:19,251 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:20,814 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:12:22,583 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:22,630 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:32,878 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:12:32,879 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:12:39,167 [DEBUG] src.console_functions: Raw input is: ['autojoin on']
2025-01-04 09:12:39,167 [INFO] src.console_functions: Auto-join turned ON.
2025-01-04 09:12:43,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_575_2_23_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:45,420 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_576_2_23_22_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:45,448 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_576_2_24_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_576_2_23_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:49,813 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_578_3_24_22_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4358, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_576_2_24_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': ['@evan:localhost']}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:59,834 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_578_4_24_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_578_3_24_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:13:29,865 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_578_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:13:59,887 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_578_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:13:59,901 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 13314, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:29,927 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:59,955 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:59,967 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_582_6_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 13292, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:15:07,632 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's69_582_7_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'invite': {'!qzFzZtzCgoVGFclbBb:localhost': {'invite_state': {'events': [{'type': 'm.room.join_rules', 'state_key': '', 'content': {'join_rule': 'public'}, 'sender': '@evan:localhost'}, {'type': 'm.room.create', 'state_key': '', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'sender': '@evan:localhost'}, {'type': 'm.room.canonical_alias', 'state_key': '', 'content': {'alias': '#MySecondChannel:localhost'}, 'sender': '@evan:localhost'}, {'type': 'm.room.name', 'state_key': '', 'content': {'name': 'MySecondChannel'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'state_key': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'age': 30}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}]}}}}}
2025-01-04 09:15:07,634 [INFO] nio.client.base_client: New invited room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteAliasEvent
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteNameEvent
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteMemberEvent
2025-01-04 09:15:07,635 [INFO] src.luna_functions: Received invite to !qzFzZtzCgoVGFclbBb:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 09:15:07,635 [INFO] src.luna_functions: Joining !qzFzZtzCgoVGFclbBb:localhost...
2025-01-04 09:15:07,658 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteMemberEvent
2025-01-04 09:15:07,658 [INFO] src.luna_functions: Received invite to !qzFzZtzCgoVGFclbBb:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 09:15:07,659 [INFO] src.luna_functions: Joining !qzFzZtzCgoVGFclbBb:localhost...
2025-01-04 09:15:07,680 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_lists': {'changed': ['@director:localhost', '@evan:localhost']}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 119161}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 119137}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 119123}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 119115}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 119115}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 119114}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 119114}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 80}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's69_582_8_26_26_1_1_58_0_1', 'limited': True}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:15:07,681 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:15:07,681 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:15:07,681 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:15:07,681 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:15:08,125 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [], 'prev_batch': 's70_582_8_26_26_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:15:38,161 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:16:08,181 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29989, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:16:38,210 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:08,229 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:08,241 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_586_8_27_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29996, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:25,991 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:17:25,992 [DEBUG] __main__: Closing event loop.
2025-01-04 09:17:28,714 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:17:28,714 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:17:28,994 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_pmxeCUJzsIxpbBqdbtrS_2bZ8Vx', 'home_server': 'localhost', 'device_id': 'OHXSPNUAXE'}
2025-01-04 09:17:28,994 [INFO] __main__: Director logged in successfully.
2025-01-04 09:17:28,994 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:17:29,006 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_586_8_27_26_1_1_59_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 20714, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37565180}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37565142}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36803551}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36654099}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36364438}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 36154444}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 35962361}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 35937843}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35886244}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 35041656}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_586_8_27_26_1_1_59_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 39225148}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 39225182}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39225141}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 39225157}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39225141}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 39225142}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 260486}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 260462}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 260448}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 260440}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 260440}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 260439}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 260439}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 141405}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 141364}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_586_8_27_26_1_1_59_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26331729}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26324683}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 26285935}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 26045773}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25442147}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25416781}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 25313177}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 25035066}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24712533}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 316019}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_586_8_27_26_1_1_59_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35801845}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41565713}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41565659}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41565667}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41565680}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41565659}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:17:29,010 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:17:29,011 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:30,749 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:17:30,780 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:17:31,309 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:17:31,309 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:17:32,960 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:17:59,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_588_8_27_26_1_1_59_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30008, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:29,057 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_588_8_27_26_1_1_59_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:29,093 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_589_8_27_26_1_1_59_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30045}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:33,400 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:18:33,400 [DEBUG] __main__: Closing event loop.
2025-01-04 09:18:35,219 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:18:35,220 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:18:35,498 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_GbsYNVBftRgSIXqtWlzQ_49FEV5', 'home_server': 'localhost', 'device_id': 'MIXCYRDNAB'}
2025-01-04 09:18:35,498 [INFO] __main__: Director logged in successfully.
2025-01-04 09:18:35,498 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:18:35,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_589_8_27_26_1_1_60_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36473}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37631685}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37631647}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36870056}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36720604}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36430943}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 36220949}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 36028866}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 36004348}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35952749}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 35108161}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_589_8_27_26_1_1_60_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 39291653}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 39291687}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39291646}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 39291662}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39291646}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 39291647}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 326991}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 326967}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 326953}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 326945}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 326945}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 326944}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 326944}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 207910}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 207869}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_589_8_27_26_1_1_60_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26398234}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26391188}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 26352440}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 26112278}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25508652}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25483286}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 25379682}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 25101571}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24779038}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 382524}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_589_8_27_26_1_1_60_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35868350}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41632218}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41632164}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41632172}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41632185}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41632164}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:18:35,515 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:18:35,516 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:37,260 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:18:37,260 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:18:37,864 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:18:37,913 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:18:40,791 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:19:05,537 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_591_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30009, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 66490}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:19,069 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_591_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:19,255 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_595_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 143, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 980218}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:49,301 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_595_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:35:19,370 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1040316}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:35:49,407 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:06,739 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:06,758 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_603_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1387720}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:36,776 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_603_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:07,804 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_605_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 150863, 'currently_active': False}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1568610}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:07,902 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_609_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1568864}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:37,945 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_609_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:01:48,767 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_611_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1030276}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2629226}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:01:48,875 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_615_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 97, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2629835}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:02:18,924 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30020, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2659862}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:02:48,990 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:19,035 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:19,060 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2720008}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:49,077 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:19,101 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:19,124 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2780084}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:49,181 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:19,242 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:19,265 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2840223}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:49,288 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:19,314 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:19,334 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2900292}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:49,351 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:19,366 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:19,387 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_627_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2960340}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:44,513 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:07:44,514 [DEBUG] __main__: Closing event loop.
2025-01-04 10:07:47,241 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:07:47,241 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:07:47,530 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_sUSTBQDfSYoCTxyxMkUS_2jbTO4', 'home_server': 'localhost', 'device_id': 'NBYSWEVOPC'}
2025-01-04 10:07:47,530 [INFO] __main__: Director logged in successfully.
2025-01-04 10:07:47,530 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:07:47,563 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_627_8_27_26_1_1_61_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2988525}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3279043}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3279019}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3279005}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3278997}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3278997}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3278996}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3278996}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3159962}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3159921}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_627_8_27_26_1_1_61_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40583737}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40583699}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39822108}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39672656}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39382995}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39173001}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 38980918}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 38956400}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 38904801}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38060213}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_627_8_27_26_1_1_61_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42243705}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42243739}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42243698}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42243714}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42243698}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42243699}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29350286}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29343240}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29304492}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29064330}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28460704}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28435338}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28331734}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28053623}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27731090}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3334576}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_627_8_27_26_1_1_61_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38820402}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44584270}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44584216}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44584224}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44584237}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44584216}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:07:47,571 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:07:47,571 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:48,989 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:08:17,577 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_629_8_27_26_1_1_61_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30001, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3018539}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:08:47,601 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_629_8_27_26_1_1_61_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:08:48,749 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:08:48,750 [DEBUG] __main__: Closing event loop.
2025-01-04 10:08:48,778 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10475b4d0>
2025-01-04 10:08:48,778 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-9' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 10:08:50,013 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:08:50,013 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:08:50,312 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_LfDwXKrMmQYdMARmDDVe_4U8emK', 'home_server': 'localhost', 'device_id': 'QQNYKZXMYT'}
2025-01-04 10:08:50,312 [INFO] __main__: Director logged in successfully.
2025-01-04 10:08:50,312 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:08:50,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_631_8_27_26_1_1_62_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3051283}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40646495}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40646457}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39884866}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39735414}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39445753}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39235759}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39043676}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39019158}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 38967559}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38122971}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_631_8_27_26_1_1_62_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42306463}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42306497}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42306456}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42306472}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42306456}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42306457}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3341801}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3341777}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3341763}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3341755}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3341755}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3341754}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3341754}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3222720}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3222679}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_631_8_27_26_1_1_62_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29413044}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29405998}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29367250}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29127088}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28523462}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28498096}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28394492}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28116381}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27793848}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3397334}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_631_8_27_26_1_1_62_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38883160}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44647028}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44646974}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44646982}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44646995}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44646974}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:08:50,325 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:08:50,326 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:51,678 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:09:20,351 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_631_8_27_26_1_1_62_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:09:50,370 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_62_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3111333}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:10:05,313 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:10:05,316 [DEBUG] __main__: Closing event loop.
2025-01-04 10:10:05,340 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102a5f4d0>
2025-01-04 10:10:05,341 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-9' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 10:10:06,647 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:10:06,648 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:10:06,953 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_jBKHHuNccuvMSNiHjNXh_3OT1Tg', 'home_server': 'localhost', 'device_id': 'VCHWSGGOEJ'}
2025-01-04 10:10:06,954 [INFO] __main__: Director logged in successfully.
2025-01-04 10:10:06,957 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:10:06,983 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_63_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 14, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3127945}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40723157}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40723119}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39961528}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39812076}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39522415}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39312421}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39120338}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39095820}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 39044221}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38199633}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_633_8_27_26_1_1_63_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42383125}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42383159}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42383118}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42383134}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42383118}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42383119}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3418463}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3418439}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3418425}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3418417}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3418417}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3418416}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3418416}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3299382}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3299341}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_633_8_27_26_1_1_63_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29489706}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29482660}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29443912}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29203750}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28600124}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28574758}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28471154}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28193043}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27870510}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3473996}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_633_8_27_26_1_1_63_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38959822}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44723690}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44723636}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44723644}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44723657}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44723636}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:10:06,988 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,988 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:10:06,989 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:09,223 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:10:09,260 [INFO] src.console_functions: Console screen cleared.
2025-01-04 10:10:13,765 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 10:10:13,765 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 10:10:37,049 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_63_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:11:03,263 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:11:03,264 [DEBUG] __main__: Closing event loop.
2025-01-04 10:11:05,981 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:11:05,982 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:11:06,269 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_qWPYtTuSzgqjzGjrhigV_4R4h8S', 'home_server': 'localhost', 'device_id': 'WLOISKMYWE'}
2025-01-04 10:11:06,269 [INFO] __main__: Director logged in successfully.
2025-01-04 10:11:06,269 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:11:06,282 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_635_8_27_26_1_1_64_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3187244}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40782456}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40782418}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 40020827}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39871375}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39581714}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39371720}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39179637}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39155119}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 39103520}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38258932}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_635_8_27_26_1_1_64_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42442424}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42442458}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42442417}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42442433}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42442417}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42442418}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3477762}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3477738}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3477724}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3477716}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3477716}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3477715}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3477715}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3358681}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3358640}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_635_8_27_26_1_1_64_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29549005}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29541959}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29503211}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29263049}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28659423}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28634057}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28530453}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28252342}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27929809}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3533295}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_635_8_27_26_1_1_64_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 39019121}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44782989}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44782935}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44782943}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44782956}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44782935}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:11:06,288 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:11:06,288 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,288 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:11:06,289 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:08,446 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:11:08,460 [INFO] src.console_functions: Console screen cleared.
2025-01-04 10:11:11,180 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 10:11:11,180 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 10:18:51,230 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_635_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:18:51,316 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_639_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3652278}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:19:21,348 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_639_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:55:47,991 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_642_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2186621}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5868946}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:55:48,018 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_643_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 16, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:56:18,033 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_645_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5898991}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:00,933 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_645_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:00,964 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 9541926}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:30,995 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:26,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:26,476 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_653_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 10467439}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:56,493 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_655_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 10497449}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:14,214 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_655_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:14,338 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_659_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 12315301}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:44,382 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_659_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:01,557 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_661_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1157053}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13502411}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:01,567 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13502531}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:31,588 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:04:18,419 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:04:48,447 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_667_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13609400}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:26,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_667_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:26,462 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_673_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14127423}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:56,487 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_675_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30013, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14157442}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:19,626 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_675_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:19,656 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_679_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 22, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14480619}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:49,675 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_681_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30009, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14510631}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:02,390 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_681_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:02,637 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_685_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 144, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14823579}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:32,685 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_685_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:26:02,726 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_687_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30004, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14883662}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:26:16,734 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:16,735 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:16,939 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:17,343 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:18,148 [WARNING] nio.client.async_client: Timed out, sleeping for 1s
2025-01-04 13:26:19,753 [WARNING] nio.client.async_client: Timed out, sleeping for 3s
2025-01-04 13:26:22,956 [WARNING] nio.client.async_client: Timed out, sleeping for 6s
2025-01-04 13:26:29,361 [WARNING] nio.client.async_client: Timed out, sleeping for 12s
2025-01-04 13:26:42,168 [WARNING] nio.client.async_client: Timed out, sleeping for 25s
2025-01-04 13:27:07,779 [WARNING] nio.client.async_client: Timed out, sleeping for 51s
