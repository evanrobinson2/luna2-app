2025-01-04 00:47:05,287 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:47:05,287 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:47:05,287 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:47:05,287 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:47:05,570 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_LjAcZZxbnYgxxqfBChYm_3cmOpj', 'home_server': 'localhost', 'device_id': 'YWFOMDXLPH'}
2025-01-04 00:47:05,571 [DEBUG] src.luna_functions: Login response object: Logged in as @director:localhost, device id: YWFOMDXLPH.
2025-01-04 00:47:05,571 [INFO] src.luna_functions: Director logged in successfully.
2025-01-04 00:47:05,571 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 00:47:05,585 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_331_8_20_21_1_1_36_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 46609}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 6941758}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 6941720}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 6180129}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 6030677}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 5741016}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 5531022}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 5338939}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 5314421}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 5262822}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 4418234}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_331_8_20_21_1_1_36_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 8601760}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8601719}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 8601720}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 8601735}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8601719}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 8601726}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 3921436}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 3796029}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 3796018}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 3796008}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 3437849}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 3437828}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 3324820}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 3324808}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 1744689}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 1688138}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_331_8_20_21_1_1_36_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 5178423}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 10942245}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 10942237}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 10942258}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 10942291}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 10942237}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 10942238}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 00:47:05,590 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,590 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,590 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:47:05,590 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:05,591 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:47:05,591 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:47:08,600 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 00:47:08,609 [INFO] src.console_functions: Console screen cleared.
2025-01-04 00:47:13,275 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:47:13,276 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:47:15,112 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:47:35,601 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_331_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:48:05,614 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 106636}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:48:35,631 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:05,639 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_333_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:05,644 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_335_8_20_21_1_1_36_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 166669}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:35,655 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_335_8_20_21_1_1_36_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:49:49,298 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:49:49,299 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:49:50,295 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:49:50,295 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:49:50,295 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:49:50,295 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:49:50,813 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 90295}
2025-01-04 00:49:50,814 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:49:50,814 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 90295ms
2025-01-04 00:50:36,464 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:50:36,465 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:50:36,484 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10408f620>
2025-01-04 00:50:46,213 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:50:46,213 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:50:46,213 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:50:46,213 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:50:46,740 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 34373}
2025-01-04 00:50:46,741 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:50:46,741 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 34373ms
2025-01-04 00:51:06,285 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:51:21,410 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_zIEtOVZdknHMMitvZFPm_1dkFg2', 'home_server': 'localhost', 'device_id': 'EUNDEAEUIT'}
2025-01-04 00:51:21,411 [DEBUG] src.luna_functions: Login response object: Logged in as @director:localhost, device id: EUNDEAEUIT.
2025-01-04 00:51:21,411 [INFO] src.luna_functions: Director logged in successfully.
2025-01-04 00:51:21,412 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 00:51:21,428 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_341_8_20_21_1_1_37_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 7197601}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 7197563}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 6435972}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 6286520}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 5996859}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 5786865}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 5594782}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 5570264}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 5518665}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 4674077}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_341_8_20_21_1_1_37_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 8857603}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8857562}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 8857563}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 8857578}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 8857562}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 8857569}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 4177279}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 4051872}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 4051861}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 4051851}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 3693692}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 3693671}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 3580663}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 3580651}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 2000532}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 1943981}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_341_8_20_21_1_1_37_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 5434266}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 11198088}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 11198080}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 11198101}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 11198134}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 11198080}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 11198081}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 00:51:21,436 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 00:51:21,436 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,436 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,436 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:21,437 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 00:51:21,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 00:51:46,219 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 00:51:46,252 [INFO] src.console_functions: Console screen cleared.
2025-01-04 00:51:47,651 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:51:47,651 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:51:51,459 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_341_8_20_21_1_1_37_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:52:21,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_343_8_20_21_1_1_37_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30000, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 00:52:34,375 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:52:34,376 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:52:36,988 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:52:36,989 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:52:36,989 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:52:36,989 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:52:37,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 256931}
2025-01-04 00:52:37,511 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:52:37,511 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 256931ms
2025-01-04 00:52:41,315 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 00:52:41,315 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 00:52:45,322 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 00:53:07,512 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:53:07,512 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:53:07,528 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102ebb620>
2025-01-04 00:53:08,998 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 00:53:08,999 [DEBUG] __main__: Entering main_logic function...
2025-01-04 00:53:08,999 [DEBUG] src.luna_functions: director_login: homeserver_url=http://localhost:8008, username=director
2025-01-04 00:53:08,999 [DEBUG] src.luna_functions: Attempting to log in...
2025-01-04 00:53:09,509 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 224927}
2025-01-04 00:53:09,509 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 00:53:09,510 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 224927ms
2025-01-04 00:56:26,366 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 00:56:26,367 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 00:56:26,382 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x11035f620>
2025-01-04 01:17:25,656 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:17:25,657 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:18:39,962 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:18:39,963 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:04,926 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:04,926 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:16,385 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:16,385 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:19:54,287 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:19:54,287 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:20:44,837 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:20:44,837 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:10,690 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:10,691 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:20,244 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:20,244 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:21:28,829 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:21:28,830 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:14,148 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:14,148 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:14,475 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_XQycgxnVLUPrZAWFndZW_2273wZ', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:14,498 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104dc7620>
2025-01-04 01:23:14,498 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x104f8dd30>, 551922.047933208)])']
connector: <aiohttp.connector.TCPConnector object at 0x104dc7770>
2025-01-04 01:23:25,618 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:25,618 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:25,891 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_VAWUTSjJfnZGPiAESkym_02WVjF', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:25,910 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x11278f620>
2025-01-04 01:23:25,911 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x113251d30>, 551933.463908875)])']
connector: <aiohttp.connector.TCPConnector object at 0x11278f770>
2025-01-04 01:23:56,712 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:23:56,713 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:23:56,991 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_FlJfIWVuyCtVByJTlroo_2JgzDa', 'home_server': 'localhost', 'device_id': 'DirectorDevice'}
2025-01-04 01:23:57,021 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10528f620>
2025-01-04 01:23:57,021 [ERROR] asyncio: Unclosed connector
connections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x105455d30>, 551964.562698291)])']
connector: <aiohttp.connector.TCPConnector object at 0x10528f770>
2025-01-04 01:27:44,948 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:27:44,948 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:27:45,229 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_bYVsvTHZOUHSSlFRCBSZ_33Sj1F', 'home_server': 'localhost', 'device_id': 'KFBUBDDALL'}
2025-01-04 01:27:45,230 [INFO] __main__: Director logged in successfully.
2025-01-04 01:27:45,230 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:27:45,284 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_385_0_20_21_1_1_39_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 50, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 21639}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9381458}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9381420}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8619829}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8470377}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8180716}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 7970722}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7778639}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7754121}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7702522}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 6857934}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_384_0_20_21_1_1_39_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11041420}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11041426}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11041419}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11041460}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11041435}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11041419}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6361136}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6235729}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6235718}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6235708}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 5877549}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 5877528}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5764520}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5764508}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4184389}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4127838}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_384_0_20_21_1_1_39_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13381958}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13381945}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13381991}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7618123}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13381937}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13381937}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13381938}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:27:45,291 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,291 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,291 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,291 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,292 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,292 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:27:45,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:27:45,293 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:28:03,305 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:28:03,305 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:28:15,304 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_387_0_20_21_1_1_39_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 51656}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:28:15,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_388_0_20_21_1_1_39_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:28:16,057 [DEBUG] src.console_functions: Raw input is: ['exit']
2025-01-04 01:28:16,058 [INFO] src.console_functions: Console received 'exit' command. Exiting process.
2025-01-04 01:28:25,311 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:28:25,312 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:28:25,342 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10788f620>
2025-01-04 01:29:30,140 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:29:30,140 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:29:30,428 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_bZxwDcWwJYpxPgMuUKaB_0s7JBM', 'home_server': 'localhost', 'device_id': 'RYUSULZDMB'}
2025-01-04 01:29:30,429 [INFO] __main__: Director logged in successfully.
2025-01-04 01:29:30,429 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:29:30,441 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_392_0_20_21_1_1_40_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9486616}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9486578}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8724987}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8575535}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8285874}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8075880}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7883797}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7859279}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7807680}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 6963092}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_392_0_20_21_1_1_40_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11146578}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11146618}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11146584}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11146577}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11146593}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11146577}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6466294}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6340887}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6340876}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6340866}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 5982707}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 5982686}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5869678}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5869666}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4289547}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4232996}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_392_0_20_21_1_1_40_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13487116}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13487103}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13487149}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7723281}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13487095}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13487095}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13487096}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:29:30,445 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:29:30,445 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,446 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,446 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,447 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,447 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:30,448 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:29:30,448 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:29:32,544 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:29:32,546 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:29:34,639 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:30:00,467 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_394_0_20_21_1_1_40_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:30:30,505 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_394_0_20_21_1_1_40_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:30:58,443 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:30:58,443 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:30:58,475 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106273620>
2025-01-04 01:31:00,257 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:31:00,257 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:31:00,534 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_JfKcsHeQoSnaQQgFaTyc_13QKvy', 'home_server': 'localhost', 'device_id': 'EIBMTRNSGN'}
2025-01-04 01:31:00,548 [INFO] __main__: Director logged in successfully.
2025-01-04 01:31:00,548 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:31:00,560 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_397_0_20_21_1_1_41_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30035}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9576733}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9576695}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8815104}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8665652}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8375991}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8165997}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7973914}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7949396}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7897797}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7053209}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_397_0_20_21_1_1_41_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11236695}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11236735}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11236701}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11236694}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11236710}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11236694}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6556411}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6431004}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6430993}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6430983}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6072824}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6072803}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5959795}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5959783}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4379664}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4323113}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_397_0_20_21_1_1_41_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13577233}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13577220}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13577266}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7813398}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13577212}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13577212}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13577213}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:31:00,565 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,565 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,565 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,566 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,566 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:00,567 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:00,567 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:02,505 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 01:31:02,575 [INFO] src.console_functions: Console screen cleared.
2025-01-04 01:31:19,328 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:31:19,329 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:31:19,351 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102d5b620>
2025-01-04 01:31:24,546 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:31:24,546 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:31:24,831 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_rxiFGdZKHdqnNdfItTAR_2hPsYD', 'home_server': 'localhost', 'device_id': 'HQGQVTMIUD'}
2025-01-04 01:31:24,831 [INFO] __main__: Director logged in successfully.
2025-01-04 01:31:24,832 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:31:24,842 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_397_0_20_21_1_1_42_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 54317}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9601015}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9600977}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 8839386}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 8689934}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8400273}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8190279}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 7998196}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 7973678}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 7922079}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7077491}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_397_0_20_21_1_1_42_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11260977}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11261017}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11260983}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11260976}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11260992}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11260976}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6580693}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6455286}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6455275}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6455265}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6097106}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6097085}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 5984077}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 5984065}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4403946}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4347395}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_397_0_20_21_1_1_42_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13601515}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13601502}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13601548}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 7837680}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13601494}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13601494}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13601495}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:31:24,847 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:24,847 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,848 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,848 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,849 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,849 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:24,850 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:31:24,850 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:31:54,859 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 84336}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:24,879 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:54,893 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_399_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:32:54,911 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 144383}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:24,928 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:54,942 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_401_0_20_21_1_1_42_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:33:54,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_403_0_20_21_1_1_42_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 204430}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:34:21,520 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:34:21,520 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:34:21,551 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104ee3620>
2025-01-04 01:37:51,034 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:37:51,034 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:37:51,322 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_OsNzxkOvXQruUpCgMUgm_0YTeWW', 'home_server': 'localhost', 'device_id': 'OAPODGMQYT'}
2025-01-04 01:37:51,322 [INFO] __main__: Director logged in successfully.
2025-01-04 01:37:51,322 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:37:51,339 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_410_0_20_21_1_1_43_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 24795, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 9987514}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 9987476}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9225885}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9076433}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8786772}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8576778}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8384695}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8360177}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8308578}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7463990}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_410_0_20_21_1_1_43_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11647476}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11647516}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11647482}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11647475}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11647491}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11647475}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 6967192}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6841785}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6841774}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6841764}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6483605}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6483584}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6370576}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6370564}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4790445}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4733894}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_410_0_20_21_1_1_43_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 13988014}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 13988001}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 13988047}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8224179}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13987993}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 13987993}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 13987994}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:37:51,344 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:37:51,344 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,345 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,345 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,346 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,346 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:51,347 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:37:51,347 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:37:54,201 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:37:54,202 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:37:56,685 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:38:21,360 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_410_0_20_21_1_1_43_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:38:51,392 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_43_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29997, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:39:13,283 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:39:13,283 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:39:13,319 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102467620>
2025-01-04 01:39:15,027 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:39:15,027 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:39:15,305 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_kVtPCeeNHcfBVVMkMSNt_3hxGmN', 'home_server': 'localhost', 'device_id': 'VFKVCKAMCI'}
2025-01-04 01:39:15,306 [INFO] __main__: Director logged in successfully.
2025-01-04 01:39:15,306 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:39:15,316 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_44_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 23910, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10071490}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10071452}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9309861}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9160409}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8870748}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8660754}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8468671}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8444153}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8392554}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7547966}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_412_0_20_21_1_1_44_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11731452}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11731492}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11731458}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11731451}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11731467}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11731451}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7051168}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 6925761}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 6925750}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 6925740}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6567581}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6567560}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6454552}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6454540}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4874421}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4817870}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_412_0_20_21_1_1_44_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14071990}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14071977}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14072023}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8308155}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14071969}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14071969}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14071970}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:39:15,323 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:39:15,323 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,324 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,324 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:15,325 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:39:15,325 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:39:17,963 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:39:17,964 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:39:18,672 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:39:45,357 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_412_0_20_21_1_1_44_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:15,383 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_414_0_20_21_1_1_44_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30000, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:45,396 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_414_0_20_21_1_1_44_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:45,433 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_415_0_20_21_1_1_44_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30026}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:40:59,084 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:40:59,084 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:40:59,103 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x104507620>
2025-01-04 01:41:01,574 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:41:01,574 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:41:01,865 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_iGBCtzFZPNovXHDKFgMs_1vZiQK', 'home_server': 'localhost', 'device_id': 'XROWSPIFZE'}
2025-01-04 01:41:01,866 [INFO] __main__: Director logged in successfully.
2025-01-04 01:41:01,866 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:41:01,876 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_417_0_20_21_1_1_45_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 46471}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10178050}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10178012}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9416421}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9266969}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 8977308}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 8767314}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8575231}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8550713}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8499114}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7654526}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_417_0_20_21_1_1_45_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 11838012}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 11838052}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 11838018}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11838011}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 11838027}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 11838011}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7157728}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7032321}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7032310}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7032300}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6674141}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6674120}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6561112}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6561100}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 4980981}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 4924430}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_417_0_20_21_1_1_45_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14178550}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14178537}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14178583}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8414715}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14178529}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14178529}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14178530}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:41:01,883 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:41:01,883 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,884 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,884 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,885 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:41:01,885 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,885 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:01,886 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:41:01,886 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:41:05,051 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:41:31,911 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_417_0_20_21_1_1_45_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:41:40,188 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:41:40,189 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:41:40,229 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10441f620>
2025-01-04 01:41:41,810 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:41:41,810 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:41:42,327 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 268234}
2025-01-04 01:41:42,327 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:41:42,327 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 268234ms
2025-01-04 01:42:07,991 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:42:07,991 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:42:08,005 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106cdf770>
2025-01-04 01:42:09,446 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:42:09,446 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:42:09,963 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 240600}
2025-01-04 01:42:09,964 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:42:09,965 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 240600ms
2025-01-04 01:46:10,876 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_unIuLNiofpaZZaOTnzuo_2sv8PM', 'home_server': 'localhost', 'device_id': 'FVVFTZUMSE'}
2025-01-04 01:46:10,877 [INFO] __main__: Director logged in successfully.
2025-01-04 01:46:10,877 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:46:10,891 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_425_0_20_21_1_1_46_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 355486}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10487065}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10487027}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 9725436}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9575984}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9286323}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9076329}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 8884246}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 8859728}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 8808129}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 7963541}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_425_0_20_21_1_1_46_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12147027}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12147067}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12147033}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12147026}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12147042}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12147026}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7466743}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7341336}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7341325}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7341315}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 6983156}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 6983135}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 6870127}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 6870115}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5289996}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5233445}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_425_0_20_21_1_1_46_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14487565}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14487552}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14487598}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 8723730}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14487544}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14487544}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14487545}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:46:10,896 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,896 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,896 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:10,897 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:46:10,897 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:46:33,653 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:46:40,929 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_425_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:47:10,975 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 415558}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30024, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:47:40,996 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:11,016 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_427_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:11,028 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 475622}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:48:41,047 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:11,064 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_429_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:11,072 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 535667}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:49:41,095 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:11,108 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_431_0_20_21_1_1_46_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:11,119 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_433_0_20_21_1_1_46_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 595714}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:50:14,823 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:50:14,824 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:50:14,860 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10755f620>
2025-01-04 01:50:17,245 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:50:17,246 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:50:17,770 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 86129}
2025-01-04 01:50:17,771 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:50:17,772 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 86129ms
2025-01-04 01:50:23,690 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:51:19,671 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:51:44,201 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_absAJsEsyEDnNhTxJnEv_0bRdJ7', 'home_server': 'localhost', 'device_id': 'GRPAGOLDNU'}
2025-01-04 01:51:44,201 [INFO] __main__: Director logged in successfully.
2025-01-04 01:51:44,201 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:51:44,213 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_436_0_20_21_1_1_47_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 688807}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10820386}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10820348}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10058757}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 9909305}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9619644}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9409650}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9217567}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9193049}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9141450}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8296862}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_436_0_20_21_1_1_47_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12480348}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12480388}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12480354}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12480347}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12480363}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12480347}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7800064}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7674657}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7674646}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7674636}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7316477}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7316456}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7203448}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7203436}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5623317}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5566766}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_436_0_20_21_1_1_47_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14820886}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14820873}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14820919}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9057051}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14820865}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14820865}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14820866}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:51:44,222 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,223 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,223 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:44,224 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:51:44,224 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:51:53,815 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:52:14,232 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_438_0_20_21_1_1_47_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 718825}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:52:18,697 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:52:18,697 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:52:18,698 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102da3620>
2025-01-04 01:52:19,930 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:52:19,931 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:52:20,450 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'errcode': 'M_LIMIT_EXCEEDED', 'error': 'Too Many Requests', 'retry_after_ms': 296779}
2025-01-04 01:52:20,451 [WARNING] nio.responses: Error validating response: 'user_id' is a required property
2025-01-04 01:52:20,452 [WARNING] nio.client.async_client: Got 429 response (ratelimited), sleeping for 296779ms
2025-01-04 01:52:23,473 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:53:28,952 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:53:28,952 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:53:28,966 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102e67620>
2025-01-04 01:53:55,679 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:53:55,679 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:53:55,961 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_zGqEwZlLInUYEkZoOmQb_22NZsh', 'home_server': 'localhost', 'device_id': 'HCWXTWFXJA'}
2025-01-04 01:53:55,962 [INFO] __main__: Director logged in successfully.
2025-01-04 01:53:55,962 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:53:56,008 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 40, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 820603}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 10952182}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 10952144}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10190553}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10041101}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9751440}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9541446}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9349363}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9324845}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9273246}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8428658}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_442_0_20_21_1_1_48_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12612150}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12612184}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12612143}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12612159}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12612143}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12612144}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 7931860}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 7806453}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 7806442}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 7806432}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7448273}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7448252}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7335244}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7335232}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5755113}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5698562}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_442_0_20_21_1_1_48_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9188847}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 14952715}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14952661}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 14952669}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 14952682}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 14952662}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 14952661}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:53:56,015 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,015 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,015 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,016 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,016 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:53:56,017 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:53:56,017 [WARNING] src.luna_functions: No DIRECTOR_CLIENT set. Cannot respond.
2025-01-04 01:54:26,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:54:56,037 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:55:26,058 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_442_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:55:56,098 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 940673}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:26,114 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:56,132 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_444_0_20_21_1_1_48_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:56:56,149 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_446_0_20_21_1_1_48_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1000745}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:57:05,524 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:57:05,526 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:57:05,526 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10520f620>
2025-01-04 01:57:09,868 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:57:09,869 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:57:10,150 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_NUfeMVAspEabYZvrzYNx_3VOaQR', 'home_server': 'localhost', 'device_id': 'DJUHGPNAND'}
2025-01-04 01:57:10,150 [INFO] __main__: Director logged in successfully.
2025-01-04 01:57:10,150 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:57:10,173 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's50_446_0_20_21_1_1_49_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1014768}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11146347}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11146309}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10384718}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10235266}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 9945605}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9735611}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9543528}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9519010}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9467411}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8622823}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_446_0_20_21_1_1_49_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12806315}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12806349}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12806308}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12806324}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12806308}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12806309}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965704146, 'unsigned': {'membership': 'join', 'age': 8126025}, 'event_id': '$3GSLmbAIXweiqH0GARIqN9-GXwp40L5W2veKr2YM9ys'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 8000618}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 8000607}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8000597}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7642438}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7642417}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7529409}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7529397}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 5949278}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5892727}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}], 'prev_batch': 's40_446_0_20_21_1_1_49_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9383012}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15146880}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15146826}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15146834}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15146847}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15146827}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15146826}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 4, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:57:10,177 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,177 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,177 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:10,178 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:57:10,178 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:57:12,780 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:57:33,120 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:57:33,122 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:58:36,967 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:58:36,968 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:58:37,252 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_lxCFZVhzKVttJItEhZMN_4OMbfD', 'home_server': 'localhost', 'device_id': 'EFRURKOFWJ'}
2025-01-04 01:58:37,252 [INFO] __main__: Director logged in successfully.
2025-01-04 01:58:37,253 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:58:37,264 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's51_451_2_20_21_1_1_50_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11233439}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11233401}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10471810}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10322358}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10032697}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9822703}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9630620}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9606102}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9554503}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8709915}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_451_2_20_21_1_1_50_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12893407}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12893441}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12893400}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12893416}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12893400}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12893401}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Hello' (auto-respond)."}, 'origin_server_ts': 1735965829553, 'unsigned': {'membership': 'join', 'age': 8087710}, 'event_id': '$xe191oxzlnvOS2IsYNzxRu2RnVK7kIzzJtF_5Y73GWs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735965829564, 'unsigned': {'membership': 'join', 'age': 8087699}, 'event_id': '$js7_ZDY16lwzF6wpuGE2gfty9DodnpbKfaKEVOWOPW8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8087689}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7729530}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7729509}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7616501}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7616489}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6036370}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 5979819}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 15452}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}], 'prev_batch': 's41_451_2_20_21_1_1_50_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9470104}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15233972}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15233918}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15233926}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15233939}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15233919}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15233918}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM': {'m.read': {'@evan:localhost': {'ts': 1735968198294, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:37,269 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:58:37,269 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,270 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,270 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:37,271 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,271 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 01:58:37,271 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 01:58:37,292 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's52_451_2_20_21_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 17, 'transaction_id': '805181dc-1ec9-4abd-93fc-380c2f21b557'}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}], 'prev_batch': 's51_451_2_20_21_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:37,293 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:58:37,293 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:58:42,587 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's52_451_2_21_21_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's52_451_2_20_21_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:44,348 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_451_2_21_22_1_1_50_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 25}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}], 'prev_batch': 's52_451_2_21_22_1_1_50_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:58:44,350 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 01:59:14,395 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_453_2_21_22_1_1_50_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30020, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29949, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 01:59:14,891 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 01:59:14,932 [INFO] src.console_functions: Console screen cleared.
2025-01-04 01:59:15,773 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 01:59:15,773 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 01:59:17,409 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 01:59:17,409 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 01:59:22,764 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 01:59:22,764 [DEBUG] __main__: Entering main_logic function...
2025-01-04 01:59:23,046 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_MnVSOFOadonvcwUhLMTn_1Qvewe', 'home_server': 'localhost', 'device_id': 'LSEXKDATUL'}
2025-01-04 01:59:23,047 [INFO] __main__: Director logged in successfully.
2025-01-04 01:59:23,047 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 01:59:23,061 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's53_453_2_21_22_1_1_51_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11279233}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11279195}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10517604}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10368152}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10078491}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 9868497}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9676414}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9651896}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9600297}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8755709}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_453_2_21_22_1_1_51_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 12939201}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 12939235}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12939194}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 12939210}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 12939194}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 12939195}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735965829574, 'unsigned': {'membership': 'join', 'age': 8133483}, 'event_id': '$3J5yw_uFtmI5kQ7gDopNNNTIIDoeEeDODkrD0eEZTuo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 7775324}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 7775303}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7662295}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7662283}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6082164}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6025613}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 61246}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 45782}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 38736}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}], 'prev_batch': 's43_453_2_21_22_1_1_51_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9515898}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15279766}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15279712}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15279720}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15279733}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15279713}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15279712}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:59:23,065 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,066 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,066 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 01:59:23,066 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 01:59:23,078 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,079 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:23,079 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 01:59:23,084 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_453_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 14, 'transaction_id': 'a277e16f-5001-47d3-ab58-70bc69e626e9'}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}], 'prev_batch': 's53_453_2_21_22_1_1_51_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 01:59:23,084 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 01:59:23,084 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 01:59:27,892 [DEBUG] src.console_functions: Raw input is: ['create room test2']
2025-01-04 01:59:27,893 [WARNING] src.console_functions: Director client not initialized yet.
2025-01-04 01:59:32,347 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 01:59:53,103 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29931, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:23,119 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:53,135 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_455_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:00:53,144 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29919, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:07,173 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:01:23,155 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,168 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_457_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,180 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_459_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29890, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:01:53,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_460_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30028}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:02:23,333 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_460_2_21_22_1_1_51_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:02:53,344 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_462_2_21_22_1_1_51_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30003, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 90053}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:03:20,425 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:03:20,426 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:03:22,909 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:03:22,909 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:03:23,209 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_odzcjwrYQnPOFBICZqOr_0Q8MGZ', 'home_server': 'localhost', 'device_id': 'WTFVIJMWKO'}
2025-01-04 02:03:23,210 [INFO] __main__: Director logged in successfully.
2025-01-04 02:03:23,210 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:03:23,222 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's54_462_2_21_22_1_1_52_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 119933}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 11519397}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 11519359}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 10757768}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 10608316}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10318655}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10108661}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 9916578}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 9892060}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 9840461}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 8995873}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_462_2_21_22_1_1_52_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13179365}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13179399}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13179358}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13179374}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13179358}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13179359}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966187733, 'unsigned': {'membership': 'join', 'age': 8015488}, 'event_id': '$SJboT4H2qTjJrwz24NfGNMXaKVSFjVhf3e72CeY1_-0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 8015467}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 7902459}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 7902447}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6322328}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6265777}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 301410}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 285946}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 278900}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 240152}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}], 'prev_batch': 's44_462_2_21_22_1_1_52_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 9756062}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 15519930}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15519876}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 15519884}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 15519897}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 15519877}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 15519876}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA': {'m.read': {'@evan:localhost': {'ts': 1735973922562, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:03:23,226 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,226 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,226 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,227 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,227 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:03:23,227 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:03:23,239 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,239 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,240 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:03:23,240 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,240 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:23,244 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_462_2_21_22_1_1_52_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 12, 'transaction_id': '6fc4cf93-5a6e-49c9-84c2-ae5947449d13'}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}], 'prev_batch': 's54_462_2_21_22_1_1_52_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:03:23,244 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:03:23,244 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:03:27,909 [DEBUG] src.console_functions: Raw input is: ['xlwe']
2025-01-04 02:03:27,909 [DEBUG] src.console_functions: Unrecognized command: xlwe
2025-01-04 02:03:30,331 [DEBUG] src.console_functions: Raw input is: ['xlwe']
2025-01-04 02:03:30,331 [DEBUG] src.console_functions: Unrecognized command: xlwe
2025-01-04 02:03:33,673 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:03:33,741 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:03:34,773 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:03:34,774 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:03:35,931 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:03:44,037 [DEBUG] src.console_functions: Raw input is: ['create channel Test2']
2025-01-04 02:03:44,039 [DEBUG] src.console_functions: Unrecognized command: create channel Test2
2025-01-04 02:03:49,220 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_463_2_21_22_1_1_52_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:03:49,238 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_463_2_22_22_1_1_52_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's55_463_2_21_22_1_1_52_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:04:00,728 [DEBUG] src.console_functions: Raw input is: ['invite admin Test2']
2025-01-04 02:04:00,731 [INFO] src.console_functions: (Console) Scheduling invite of 'admin' to Test2
2025-01-04 02:04:19,255 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_465_2_22_22_1_1_52_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29990, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:04:30,689 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:04:30,689 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:04:30,706 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106caf620>
2025-01-04 02:13:26,541 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:13:26,542 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:13:26,821 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_JqDJZvdbOyDAmZRZqPiW_3CBmfn', 'home_server': 'localhost', 'device_id': 'XRGQBBUYPE'}
2025-01-04 02:13:26,822 [INFO] __main__: Director logged in successfully.
2025-01-04 02:13:26,822 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:13:26,838 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's55_479_2_22_22_1_1_53_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12123012}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12122974}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11361383}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11211931}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10922270}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10712276}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10520193}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10495675}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10444076}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9599488}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_479_2_22_22_1_1_53_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13782980}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13783014}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13782973}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13782989}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13782973}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13782974}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966187754, 'unsigned': {'membership': 'join', 'age': 8619082}, 'event_id': '$RdoaReWjyXBZe2HYJelTArG6nwE1SrHWKIp7noadmfw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 8506074}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8506062}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6925943}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6869392}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 905025}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 889561}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 882515}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 843767}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 603605}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}], 'prev_batch': 's45_479_2_22_22_1_1_53_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10359677}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16123545}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16123491}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16123499}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16123512}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16123492}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16123491}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:26,842 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,842 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,843 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,843 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:13:26,843 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,878 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,878 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:26,882 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's56_479_2_22_22_1_1_53_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 24, 'transaction_id': '27f27653-6424-4c01-9ec6-c40271a13283'}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}], 'prev_batch': 's55_479_2_22_22_1_1_53_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:26,883 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:26,883 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:29,555 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:13:29,614 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:13:31,547 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:13:31,547 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:13:33,660 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:13:50,486 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:13:50,489 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:13:51,906 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:13:51,906 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:13:52,200 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_XGpNVkUmBRfQFuZRAinp_2ROXum', 'home_server': 'localhost', 'device_id': 'OCXXODXASG'}
2025-01-04 02:13:52,201 [INFO] __main__: Director logged in successfully.
2025-01-04 02:13:52,201 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:13:52,211 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's56_481_2_22_22_1_1_54_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12148384}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12148346}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11386755}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11237303}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 10947642}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10737648}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10545565}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10521047}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10469448}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9624860}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_481_2_22_22_1_1_54_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13808352}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13808386}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13808345}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13808361}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13808345}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13808346}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hello' (auto-respond)."}, 'origin_server_ts': 1735966300762, 'unsigned': {'membership': 'join', 'age': 8531446}, 'event_id': '$yAdZVDyDxZzHseNAkSL5ltyIHb8cXFFmFHyCwk2BfZ8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8531434}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 6951315}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6894764}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 930397}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 914933}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 907887}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 869139}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 628977}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25351}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}], 'prev_batch': 's46_481_2_22_22_1_1_54_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10385049}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16148917}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16148863}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16148871}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16148884}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16148864}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16148863}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8': {'m.read': {'@evan:localhost': {'ts': 1735974229213, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:52,219 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:13:52,219 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:52,219 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,220 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,220 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,221 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,221 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:13:52,221 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,231 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,231 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:52,245 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_22_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 21, 'transaction_id': '93e6a971-5327-43a2-b2c1-f83fe80fb89e'}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}], 'prev_batch': 's56_481_2_22_22_1_1_54_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:13:52,245 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:13:52,245 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:13:53,502 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 02:13:53,526 [INFO] src.console_functions: Console screen cleared.
2025-01-04 02:13:54,095 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:14:00,187 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:14:00,188 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:14:06,471 [DEBUG] src.console_functions: Raw input is: ['create room Test1']
2025-01-04 02:14:06,472 [INFO] src.console_functions: (Console) Scheduling creation of room 'Test1'
2025-01-04 02:14:19,366 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_23_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's57_481_2_22_22_1_1_54_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:14:49,399 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_481_2_23_22_1_1_54_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:15:19,431 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_483_2_23_22_1_1_54_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:15:33,876 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:15:33,877 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:15:33,905 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x103b5f620>
2025-01-04 02:15:35,520 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:15:35,520 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:15:35,804 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_jfTxxczHmJMyZhYTcYpT_1WyyfG', 'home_server': 'localhost', 'device_id': 'FOUWNKVZFE'}
2025-01-04 02:15:35,804 [INFO] __main__: Director logged in successfully.
2025-01-04 02:15:35,804 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:15:35,816 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's57_483_2_23_22_1_1_55_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 16367, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12251989}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12251951}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11490360}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11340908}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11051247}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 10841253}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10649170}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10624652}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10573053}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 9728465}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_483_2_23_22_1_1_55_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 13911957}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 13911991}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13911950}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 13911966}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 13911950}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 13911951}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735966300774, 'unsigned': {'membership': 'join', 'age': 8635039}, 'event_id': '$5NkaeYkihHjqofvzuy-r95pY2JEmdDWOHwnBe0a3oeU'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 7054920}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 6998369}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1034002}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1018538}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1011492}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 972744}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 732582}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 128956}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 103590}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}], 'prev_batch': 's47_483_2_23_22_1_1_55_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10488654}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16252522}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16252468}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16252476}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16252489}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16252469}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16252468}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:15:35,822 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:15:35,822 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:15:35,822 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,823 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,823 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,824 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,824 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,825 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,825 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,825 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,825 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:15:35,825 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:15:35,841 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,842 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,842 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:35,847 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_483_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 19, 'transaction_id': '6628efbe-1fbd-4620-a1d8-7d1aa1300b25'}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}], 'prev_batch': 's57_483_2_23_22_1_1_55_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:15:35,847 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:15:35,847 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:15:37,993 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:15:47,148 [DEBUG] src.console_functions: Raw input is: ['create room test123']
2025-01-04 02:15:47,148 [INFO] src.console_functions: (Console) Scheduling creation of room 'test123'
2025-01-04 02:16:05,860 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30004, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29903, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:16:35,875 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:05,895 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_485_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:05,915 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29899, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:17:35,936 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:05,956 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_487_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:05,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_489_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29851, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:06,184 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_490_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30042}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:18:36,212 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_490_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:19:06,239 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 90121}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:19:36,273 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:06,300 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_492_2_23_22_1_1_55_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:06,324 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_494_2_23_22_1_1_55_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 150210}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:20:12,098 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:20:12,098 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:20:12,122 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10442b620>
2025-01-04 02:20:13,628 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:20:13,628 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:20:13,912 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_MryidbviJxBvOyeMziWp_4E6BnL', 'home_server': 'localhost', 'device_id': 'ZSWQQPUEGU'}
2025-01-04 02:20:13,912 [INFO] __main__: Director logged in successfully.
2025-01-04 02:20:13,913 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:20:13,924 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's58_494_2_23_22_1_1_56_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 157813}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12530098}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12530060}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 11768469}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11619017}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11329356}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 11119362}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 10927279}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 10902761}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 10851162}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 10006574}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_494_2_23_22_1_1_56_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 14190066}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 14190100}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14190059}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 14190075}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14190059}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 14190060}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967880893, 'unsigned': {'membership': 'join', 'age': 7333029}, 'event_id': '$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 7276478}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1312111}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1296647}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1289601}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 1250853}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 1010691}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 407065}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 381699}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 278095}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}], 'prev_batch': 's48_494_2_23_22_1_1_56_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 10766763}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16530631}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16530577}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16530585}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16530598}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16530578}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16530577}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:20:13,932 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:20:13,932 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,933 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,933 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,934 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,934 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,935 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:20:13,935 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,948 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,948 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:13,952 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_494_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 13, 'transaction_id': 'a008a2c5-4f7f-4d9b-8d61-0350570b56df'}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}], 'prev_batch': 's58_494_2_23_22_1_1_56_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:20:13,952 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:20:13,952 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:20:15,884 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:20:19,864 [DEBUG] src.console_functions: Raw input is: ['create room test']
2025-01-04 02:20:19,865 [INFO] src.console_functions: (Console) Scheduling creation of room 'test'
2025-01-04 02:20:43,988 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_494_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:21:14,005 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 217892}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:21:44,020 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:14,032 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_496_2_23_22_1_1_56_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:14,039 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_498_2_23_22_1_1_56_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 277928}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:22:30,944 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 02:22:30,944 [DEBUG] __main__: Caught KeyboardInterrupt; exiting now.
2025-01-04 02:22:30,961 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10818f620>
2025-01-04 02:25:36,163 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 02:25:36,163 [DEBUG] __main__: Entering main_logic function...
2025-01-04 02:25:36,446 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_vqsqZxIHBZlPyasMaEMO_06a4LE', 'home_server': 'localhost', 'device_id': 'RYCVSYZZKR'}
2025-01-04 02:25:36,446 [INFO] __main__: Director logged in successfully.
2025-01-04 02:25:36,446 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 02:25:36,461 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's59_503_2_23_22_1_1_57_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 480349}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 12852634}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 12852596}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 12091005}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 11941553}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 11651892}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 11441898}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 11249815}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 11225297}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 11173698}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 10329110}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_503_2_23_22_1_1_57_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 14512602}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 14512636}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14512595}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 14512611}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 14512595}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 14512596}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'sly devil!' (auto-respond)."}, 'origin_server_ts': 1735967937444, 'unsigned': {'membership': 'join', 'age': 7599014}, 'event_id': '$YygDfPwNHA2hFLI-za6MzpUeGHFt33uEKxFywdmuROM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 1634647}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 1619183}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 1612137}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 1573389}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 1333227}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 729601}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 704235}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 600631}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 322520}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}], 'prev_batch': 's49_503_2_23_22_1_1_57_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 11089299}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 16853167}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16853113}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 16853121}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 16853134}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 16853114}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 16853113}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:25:36,465 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 02:25:36,465 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,466 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,466 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 02:25:36,466 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,467 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,467 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,467 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 02:25:36,467 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,493 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,493 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,494 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,494 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,494 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:36,498 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_503_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 26, 'transaction_id': 'd8e03041-10ab-495b-861a-543118959cf5'}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}], 'prev_batch': 's59_503_2_23_22_1_1_57_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 02:25:36,498 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 02:25:36,498 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 02:25:38,574 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 02:25:41,795 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 02:25:41,795 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 02:25:46,947 [DEBUG] src.console_functions: Raw input is: ['create room Test3']
2025-01-04 02:25:46,947 [WARNING] src.console_functions: Director client not initialized yet.
2025-01-04 02:26:06,514 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_505_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30008, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 510398}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:42:37,340 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_505_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:42:37,496 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_509_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 51, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1501385}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:58:28,571 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_509_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 02:58:28,584 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_513_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2452474}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:14:25,338 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_513_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:14:25,473 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_517_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 15, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3409307}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:31:38,505 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_517_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:31:38,509 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_521_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 4442399}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:47:24,300 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_521_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 03:47:24,389 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_525_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 84, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5388278}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:24,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_528_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2400053}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 7788335}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:24,457 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_529_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 04:27:54,470 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_531_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 7818354}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:24,484 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_531_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:24,526 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_535_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 18, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 11448415}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 05:28:54,541 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_537_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 11478425}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:24,546 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_537_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:24,604 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_541_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15108493}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 06:29:54,651 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_543_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30019, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15138516}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:12,261 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_543_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:12,282 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_547_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 16956172}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:00:42,319 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_547_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:24,463 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_549_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1781937}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18768161}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:24,525 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_553_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 55, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18768413}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 07:30:54,555 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_555_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 18798427}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:16,611 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_555_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:16,670 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_559_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 20620560}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:01:46,690 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_559_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:24,419 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_561_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1777488}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22428077}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:24,443 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_565_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22428333}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 08:31:54,467 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_567_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 22458351}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:21,319 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_567_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:21,410 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_571_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 24, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24765299}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:51,432 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24795313}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:10:57,275 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:10:57,275 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:11:00,687 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:11:00,759 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:11:01,461 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:11:01,462 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:11:02,134 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:11:21,468 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:11:51,492 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_573_2_23_22_1_1_57_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:11:51,508 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_575_2_23_22_1_1_57_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24855397}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:10,999 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:12:10,999 [DEBUG] __main__: Closing event loop.
2025-01-04 09:12:12,661 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:12:12,662 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:12:12,948 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_feqrVYEaoelYAkhZXiUX_31HN1O', 'home_server': 'localhost', 'device_id': 'CHBGCBRSEM'}
2025-01-04 09:12:12,949 [INFO] __main__: Director logged in successfully.
2025-01-04 09:12:12,949 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:12:12,977 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's60_575_2_23_22_1_1_58_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 25, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 24876867}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37249152}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37249114}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36487523}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36338071}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36048410}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 35838416}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 35646333}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 35621815}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35570216}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 34725628}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_575_2_23_22_1_1_58_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 38909120}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 38909154}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 38909113}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 38909129}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 38909113}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 38909114}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'hi', 'm.mentions': {}}, 'origin_server_ts': 1735973901811, 'unsigned': {'membership': 'join', 'age': 26031165}, 'event_id': '$_nmwoc63OvVw8ccroBQqY1NdgF8MzHbSZvvUWKhWW0A'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26015701}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26008655}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 25969907}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 25729745}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25126119}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25100753}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 24997149}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 24719038}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24396505}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}], 'prev_batch': 's50_575_2_23_22_1_1_58_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35485817}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41249685}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41249631}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41249639}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41249652}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41249632}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41249631}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4': {'m.read': {'@evan:localhost': {'ts': 1735974859327, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:12,981 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,981 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:12,982 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:12:12,982 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:12,982 [INFO] src.luna_functions: Received message in !ycPwYaTaAbSpLcHdMt:localhost from @evan:localhost: hi
2025-01-04 09:12:12,982 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'hi' (auto-respond).
2025-01-04 09:12:13,002 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,003 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,003 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:13,008 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_575_2_23_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 22, 'transaction_id': '1bf2a9e3-18ea-4f8e-8d1c-0948a55871d2'}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's60_575_2_23_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:13,008 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:12:13,008 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:12:16,599 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:16,629 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:17,500 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:12:17,500 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:12:19,227 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:19,251 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:20,814 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:12:22,583 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:12:22,630 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:12:32,878 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:12:32,879 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:12:39,167 [DEBUG] src.console_functions: Raw input is: ['autojoin on']
2025-01-04 09:12:39,167 [INFO] src.console_functions: Auto-join turned ON.
2025-01-04 09:12:43,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_575_2_23_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:45,420 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_576_2_23_22_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:12:45,448 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_576_2_24_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_576_2_23_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:49,813 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_578_3_24_22_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4358, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_576_2_24_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': ['@evan:localhost']}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:12:59,834 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's61_578_4_24_22_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [], 'prev_batch': 's61_578_3_24_22_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:13:29,865 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_578_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:13:59,887 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_578_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:13:59,901 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 13314, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:29,927 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:59,955 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_580_6_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:14:59,967 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's68_582_6_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 13292, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:15:07,632 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's69_582_7_26_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'invite': {'!qzFzZtzCgoVGFclbBb:localhost': {'invite_state': {'events': [{'type': 'm.room.join_rules', 'state_key': '', 'content': {'join_rule': 'public'}, 'sender': '@evan:localhost'}, {'type': 'm.room.create', 'state_key': '', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'sender': '@evan:localhost'}, {'type': 'm.room.canonical_alias', 'state_key': '', 'content': {'alias': '#MySecondChannel:localhost'}, 'sender': '@evan:localhost'}, {'type': 'm.room.name', 'state_key': '', 'content': {'name': 'MySecondChannel'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'state_key': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'age': 30}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}]}}}}}
2025-01-04 09:15:07,634 [INFO] nio.client.base_client: New invited room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteAliasEvent
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteNameEvent
2025-01-04 09:15:07,635 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteMemberEvent
2025-01-04 09:15:07,635 [INFO] src.luna_functions: Received invite to !qzFzZtzCgoVGFclbBb:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 09:15:07,635 [INFO] src.luna_functions: Joining !qzFzZtzCgoVGFclbBb:localhost...
2025-01-04 09:15:07,658 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type InviteMemberEvent
2025-01-04 09:15:07,658 [INFO] src.luna_functions: Received invite to !qzFzZtzCgoVGFclbBb:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 09:15:07,659 [INFO] src.luna_functions: Joining !qzFzZtzCgoVGFclbBb:localhost...
2025-01-04 09:15:07,680 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_26_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}]}, 'device_lists': {'changed': ['@director:localhost', '@evan:localhost']}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 119161}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 119137}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 119123}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 119115}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 119115}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 119114}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 119114}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 80}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's69_582_8_26_26_1_1_58_0_1', 'limited': True}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:15:07,681 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:15:07,681 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:15:07,681 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:15:07,681 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:15:07,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:15:08,125 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [], 'prev_batch': 's70_582_8_26_26_1_1_58_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:15:38,161 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_582_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:16:08,181 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29989, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:16:38,210 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:08,229 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_584_8_27_26_1_1_58_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:08,241 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_586_8_27_26_1_1_58_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29996, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:17:25,991 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:17:25,992 [DEBUG] __main__: Closing event loop.
2025-01-04 09:17:28,714 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:17:28,714 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:17:28,994 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_pmxeCUJzsIxpbBqdbtrS_2bZ8Vx', 'home_server': 'localhost', 'device_id': 'OHXSPNUAXE'}
2025-01-04 09:17:28,994 [INFO] __main__: Director logged in successfully.
2025-01-04 09:17:28,994 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:17:29,006 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_586_8_27_26_1_1_59_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 20714, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37565180}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37565142}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36803551}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36654099}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36364438}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 36154444}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 35962361}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 35937843}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35886244}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 35041656}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_586_8_27_26_1_1_59_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 39225148}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 39225182}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39225141}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 39225157}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39225141}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 39225142}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 260486}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 260462}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 260448}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 260440}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 260440}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 260439}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 260439}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 141405}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 141364}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_586_8_27_26_1_1_59_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26331729}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26324683}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 26285935}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 26045773}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25442147}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25416781}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 25313177}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 25035066}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24712533}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 316019}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_586_8_27_26_1_1_59_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35801845}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41565713}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41565659}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41565667}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41565680}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41565660}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41565659}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:17:29,010 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,010 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:17:29,011 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,011 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,011 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:29,012 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:17:29,012 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:17:30,749 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:17:30,780 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:17:31,309 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:17:31,309 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:17:32,960 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:17:59,024 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_588_8_27_26_1_1_59_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30008, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:29,057 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_588_8_27_26_1_1_59_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:29,093 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_589_8_27_26_1_1_59_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30045}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:18:33,400 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 09:18:33,400 [DEBUG] __main__: Closing event loop.
2025-01-04 09:18:35,219 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 09:18:35,220 [DEBUG] __main__: Entering main_logic function...
2025-01-04 09:18:35,498 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_GbsYNVBftRgSIXqtWlzQ_49FEV5', 'home_server': 'localhost', 'device_id': 'MIXCYRDNAB'}
2025-01-04 09:18:35,498 [INFO] __main__: Director logged in successfully.
2025-01-04 09:18:35,498 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 09:18:35,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_589_8_27_26_1_1_60_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36473}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37631685}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 37631647}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 36870056}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 36720604}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 36430943}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 36220949}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 36028866}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 36004348}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 35952749}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 35108161}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_589_8_27_26_1_1_60_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 39291653}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 39291687}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39291646}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 39291662}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 39291646}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 39291647}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 326991}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 326967}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 326953}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 326945}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 326945}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 326944}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 326944}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 207910}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 207869}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_589_8_27_26_1_1_60_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 26398234}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 26391188}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 26352440}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 26112278}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 25508652}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 25483286}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 25379682}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 25101571}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 24779038}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 382524}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_589_8_27_26_1_1_60_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 35868350}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 41632218}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41632164}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 41632172}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 41632185}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 41632165}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 41632164}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 09:18:35,515 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,515 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,515 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,515 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 09:18:35,516 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:35,516 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 09:18:35,516 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 09:18:37,260 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 09:18:37,260 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 09:18:37,864 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 09:18:37,913 [INFO] src.console_functions: Console screen cleared.
2025-01-04 09:18:40,791 [DEBUG] src.console_functions: Raw input is: ['who']
2025-01-04 09:19:05,537 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_591_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30009, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 66490}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:19,069 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_591_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:19,255 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_595_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 143, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 980218}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:34:49,301 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_595_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:35:19,370 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1040316}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:35:49,407 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:06,739 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_597_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:06,758 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_603_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1387720}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:41:36,776 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_603_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:07,804 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_605_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 150863, 'currently_active': False}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1568610}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:07,902 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_609_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1568864}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 09:44:37,945 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_609_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:01:48,767 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_611_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1030276}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2629226}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:01:48,875 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_615_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 97, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2629835}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:02:18,924 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30020, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2659862}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:02:48,990 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:19,035 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_617_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:19,060 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2720008}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:03:49,077 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:19,101 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_619_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:19,124 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2780084}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:04:49,181 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:19,242 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_621_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:19,265 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2840223}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:05:49,288 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:19,314 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_623_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:19,334 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2900292}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:06:49,351 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:19,366 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_625_8_27_26_1_1_60_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:19,387 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_627_8_27_26_1_1_60_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2960340}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:07:44,513 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:07:44,514 [DEBUG] __main__: Closing event loop.
2025-01-04 10:07:47,241 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:07:47,241 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:07:47,530 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_sUSTBQDfSYoCTxyxMkUS_2jbTO4', 'home_server': 'localhost', 'device_id': 'NBYSWEVOPC'}
2025-01-04 10:07:47,530 [INFO] __main__: Director logged in successfully.
2025-01-04 10:07:47,530 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:07:47,563 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_627_8_27_26_1_1_61_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2988525}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3279043}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3279019}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3279005}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3278997}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3278997}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3278996}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3278996}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3159962}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3159921}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_627_8_27_26_1_1_61_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40583737}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40583699}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39822108}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39672656}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39382995}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39173001}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 38980918}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 38956400}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 38904801}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38060213}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_627_8_27_26_1_1_61_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42243705}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42243739}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42243698}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42243714}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42243698}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42243699}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29350286}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29343240}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29304492}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29064330}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28460704}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28435338}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28331734}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28053623}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27731090}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3334576}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_627_8_27_26_1_1_61_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38820402}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44584270}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44584216}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44584224}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44584237}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44584217}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44584216}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:07:47,571 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:07:47,571 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,571 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,572 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,572 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:47,573 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:07:47,573 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:07:48,989 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:08:17,577 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_629_8_27_26_1_1_61_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30001, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3018539}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:08:47,601 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_629_8_27_26_1_1_61_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:08:48,749 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:08:48,750 [DEBUG] __main__: Closing event loop.
2025-01-04 10:08:48,778 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x10475b4d0>
2025-01-04 10:08:48,778 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-9' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 10:08:50,013 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:08:50,013 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:08:50,312 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_LfDwXKrMmQYdMARmDDVe_4U8emK', 'home_server': 'localhost', 'device_id': 'QQNYKZXMYT'}
2025-01-04 10:08:50,312 [INFO] __main__: Director logged in successfully.
2025-01-04 10:08:50,312 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:08:50,321 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_631_8_27_26_1_1_62_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3051283}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40646495}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40646457}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39884866}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39735414}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39445753}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39235759}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39043676}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39019158}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 38967559}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38122971}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_631_8_27_26_1_1_62_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42306463}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42306497}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42306456}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42306472}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42306456}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42306457}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3341801}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3341777}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3341763}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3341755}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3341755}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3341754}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3341754}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3222720}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3222679}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_631_8_27_26_1_1_62_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29413044}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29405998}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29367250}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29127088}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28523462}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28498096}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28394492}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28116381}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27793848}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3397334}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_631_8_27_26_1_1_62_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38883160}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44647028}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44646974}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44646982}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44646995}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44646975}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44646974}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:08:50,325 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,325 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,326 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,326 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:08:50,326 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:08:50,326 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:50,327 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:08:50,327 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:08:51,678 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:09:20,351 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_631_8_27_26_1_1_62_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:09:50,370 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_62_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30014, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3111333}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:10:05,313 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:10:05,316 [DEBUG] __main__: Closing event loop.
2025-01-04 10:10:05,340 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x102a5f4d0>
2025-01-04 10:10:05,341 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-9' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 10:10:06,647 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:10:06,648 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:10:06,953 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_jBKHHuNccuvMSNiHjNXh_3OT1Tg', 'home_server': 'localhost', 'device_id': 'VCHWSGGOEJ'}
2025-01-04 10:10:06,954 [INFO] __main__: Director logged in successfully.
2025-01-04 10:10:06,957 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:10:06,983 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_63_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 14, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3127945}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40723157}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40723119}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 39961528}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39812076}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39522415}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39312421}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39120338}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39095820}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 39044221}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38199633}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_633_8_27_26_1_1_63_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42383125}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42383159}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42383118}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42383134}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42383118}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42383119}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3418463}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3418439}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3418425}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3418417}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3418417}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3418416}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3418416}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3299382}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3299341}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_633_8_27_26_1_1_63_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29489706}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29482660}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29443912}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29203750}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28600124}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28574758}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28471154}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28193043}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27870510}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3473996}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_633_8_27_26_1_1_63_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 38959822}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44723690}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44723636}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44723644}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44723657}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44723637}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44723636}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:10:06,988 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,988 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,988 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:10:06,989 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,989 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,989 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:06,990 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:10:06,990 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:10:09,223 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:10:09,260 [INFO] src.console_functions: Console screen cleared.
2025-01-04 10:10:13,765 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 10:10:13,765 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 10:10:37,049 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_633_8_27_26_1_1_63_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:11:03,263 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 10:11:03,264 [DEBUG] __main__: Closing event loop.
2025-01-04 10:11:05,981 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 10:11:05,982 [DEBUG] __main__: Entering main_logic function...
2025-01-04 10:11:06,269 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_qWPYtTuSzgqjzGjrhigV_4R4h8S', 'home_server': 'localhost', 'device_id': 'WLOISKMYWE'}
2025-01-04 10:11:06,269 [INFO] __main__: Director logged in successfully.
2025-01-04 10:11:06,269 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 10:11:06,282 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_635_8_27_26_1_1_64_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3187244}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40782456}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 40782418}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 40020827}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 39871375}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 39581714}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 39371720}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 39179637}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 39155119}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 39103520}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 38258932}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_635_8_27_26_1_1_64_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 42442424}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 42442458}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42442417}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 42442433}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 42442417}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 42442418}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 3477762}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 3477738}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 3477724}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3477716}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 3477716}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3477715}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 3477715}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 3358681}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 3358640}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_635_8_27_26_1_1_64_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 29549005}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 29541959}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 29503211}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 29263049}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 28659423}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 28634057}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 28530453}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 28252342}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 27929809}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 3533295}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_635_8_27_26_1_1_64_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 39019121}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 44782989}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44782935}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 44782943}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 44782956}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 44782936}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 44782935}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 10:11:06,288 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 10:11:06,288 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,288 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 10:11:06,289 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,289 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,289 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:06,290 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 10:11:06,290 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 10:11:08,446 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 10:11:08,460 [INFO] src.console_functions: Console screen cleared.
2025-01-04 10:11:11,180 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 10:11:11,180 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 10:18:51,230 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_635_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:18:51,316 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_639_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 3652278}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:19:21,348 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_639_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:55:47,991 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_642_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 2186621}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5868946}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:55:48,018 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_643_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 16, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 10:56:18,033 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_645_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 5898991}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:00,933 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_645_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:00,964 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 9541926}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 11:57:30,995 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:26,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_649_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:26,476 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_653_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 10467439}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:12:56,493 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_655_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 10497449}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:14,214 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_655_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:14,338 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_659_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 12315301}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 12:43:44,382 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_659_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:01,557 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_661_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1157053}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13502411}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:01,567 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13502531}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:03:31,588 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:04:18,419 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_665_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:04:48,447 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_667_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 13609400}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:26,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_667_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:26,462 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_673_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14127423}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:13:56,487 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_675_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30013, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14157442}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:19,626 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_675_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:19,656 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_679_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 22, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14480619}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:19:49,675 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_681_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30009, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14510631}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:02,390 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_681_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:02,637 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_685_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 144, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14823579}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:25:32,685 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_685_8_27_26_1_1_64_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:26:02,726 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_687_8_27_26_1_1_64_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30004, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 14883662}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:26:16,734 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:16,735 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:16,939 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:17,343 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:26:18,148 [WARNING] nio.client.async_client: Timed out, sleeping for 1s
2025-01-04 13:26:19,753 [WARNING] nio.client.async_client: Timed out, sleeping for 3s
2025-01-04 13:26:22,956 [WARNING] nio.client.async_client: Timed out, sleeping for 6s
2025-01-04 13:26:29,361 [WARNING] nio.client.async_client: Timed out, sleeping for 12s
2025-01-04 13:26:42,168 [WARNING] nio.client.async_client: Timed out, sleeping for 25s
2025-01-04 13:27:07,779 [WARNING] nio.client.async_client: Timed out, sleeping for 51s
2025-01-04 13:27:58,986 [WARNING] nio.client.async_client: Timed out, sleeping for 60s
2025-01-04 13:28:58,994 [WARNING] nio.client.async_client: Timed out, sleeping for 60s
2025-01-04 13:29:59,002 [WARNING] nio.client.async_client: Timed out, sleeping for 60s
2025-01-04 13:30:27,804 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 13:30:27,804 [DEBUG] __main__: Closing event loop.
2025-01-04 13:30:27,831 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-65' coro=<AsyncClient.sync() done, defined at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:113> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 13:30:27,844 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x1053574d0>
2025-01-04 13:33:24,076 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 13:33:24,076 [DEBUG] __main__: Entering main_logic function...
2025-01-04 13:33:24,366 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_EPQgLdWezXipwcoFpXDd_2XmKF8', 'home_server': 'localhost', 'device_id': 'UHDCCRFARL'}
2025-01-04 13:33:24,366 [INFO] __main__: Director logged in successfully.
2025-01-04 13:33:24,366 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 13:33:24,405 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_693_0_27_26_1_1_65_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 28, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15325362}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 15615880}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 15615856}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 15615842}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 15615834}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 15615834}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 15615833}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 15615833}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 15496799}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 15496758}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_693_0_27_26_1_1_65_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 52920574}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 52920536}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 52158945}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 52009493}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 51719832}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 51509838}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 51317755}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 51293237}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 51241638}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 50397050}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_693_0_27_26_1_1_65_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 54580576}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 54580551}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 54580535}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 54580535}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 54580536}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 54580542}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 41687123}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 41680077}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 41641329}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 41401167}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 40797541}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 40772175}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 40668571}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 40390460}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 40067927}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 15671413}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_693_0_27_26_1_1_65_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 56921061}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 56921054}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 56921107}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 56921074}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 56921054}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 51157239}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 56921053}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 56921054}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 56921053}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 13:33:24,414 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 13:33:24,415 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 13:33:24,415 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:24,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:33:24,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:33:26,880 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 13:33:26,881 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 13:33:28,993 [DEBUG] src.console_functions: Raw input is: ['log']
2025-01-04 13:33:54,437 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_693_0_27_26_1_1_65_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:34:24,468 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_695_0_27_26_1_1_65_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15385415}}, {'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:34:34,244 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:34:34,246 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:34:34,451 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:34:34,856 [WARNING] nio.client.async_client: Timed out, sleeping for 0s
2025-01-04 13:34:35,661 [WARNING] nio.client.async_client: Timed out, sleeping for 1s
2025-01-04 13:34:37,274 [WARNING] nio.client.async_client: Timed out, sleeping for 3s
2025-01-04 13:34:40,478 [WARNING] nio.client.async_client: Timed out, sleeping for 6s
2025-01-04 13:34:46,883 [WARNING] nio.client.async_client: Timed out, sleeping for 12s
2025-01-04 13:34:59,687 [WARNING] nio.client.async_client: Timed out, sleeping for 25s
2025-01-04 13:35:25,295 [WARNING] nio.client.async_client: Timed out, sleeping for 51s
2025-01-04 13:36:04,984 [DEBUG] src.console_functions: Raw input is: ['log']
2025-01-04 13:36:16,539 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_697_0_27_26_1_1_65_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15497498}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:36:46,560 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_697_0_27_26_1_1_65_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:36:59,777 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 13:36:59,779 [DEBUG] __main__: Closing event loop.
2025-01-04 13:37:01,340 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 13:37:01,340 [DEBUG] __main__: Entering main_logic function...
2025-01-04 13:37:01,643 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_nPVrwiDeBmMjdbuxazfy_0hMNet', 'home_server': 'localhost', 'device_id': 'QSVXKBORRK'}
2025-01-04 13:37:01,643 [INFO] __main__: Director logged in successfully.
2025-01-04 13:37:01,643 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 13:37:01,674 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_697_0_27_26_1_1_66_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 22, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15542631}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 15833149}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 15833125}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 15833111}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 15833103}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 15833103}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 15833102}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 15833102}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 15714068}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 15714027}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_697_0_27_26_1_1_66_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 53137843}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 53137805}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 52376214}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 52226762}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 51937101}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 51727107}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 51535024}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 51510506}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 51458907}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 50614319}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_697_0_27_26_1_1_66_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 54797804}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 54797804}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 54797811}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 54797845}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 54797805}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 54797820}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 41904392}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 41897346}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 41858598}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 41618436}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 41014810}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 40989444}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 40885840}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 40607729}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 40285196}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 15888682}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_697_0_27_26_1_1_66_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 57138330}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 57138343}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 57138376}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 51374508}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57138323}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57138322}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57138323}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57138323}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57138322}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 13:37:01,682 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 13:37:01,682 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:37:01,682 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 13:37:01,682 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,683 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:01,683 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:37:01,684 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:37:03,889 [DEBUG] src.console_functions: Raw input is: ['log']
2025-01-04 13:37:06,082 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 13:37:06,082 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 13:37:31,694 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_697_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:38:01,713 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_699_0_27_26_1_1_66_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30010, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15602672}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:38:31,733 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_699_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:39:01,757 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_699_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:39:01,780 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_701_0_27_26_1_1_66_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15662740}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:39:31,802 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_701_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:40:01,822 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_701_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:40:01,831 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_703_0_27_26_1_1_66_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15722793}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:40:31,844 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_703_0_27_26_1_1_66_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 13:40:41,117 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 13:40:41,119 [DEBUG] __main__: Closing event loop.
2025-01-04 13:40:43,195 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 13:40:43,196 [DEBUG] __main__: Entering main_logic function...
2025-01-04 13:40:43,480 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_mYuyNnnXwJCpJuuvEIwb_2nCCZI', 'home_server': 'localhost', 'device_id': 'EZAQNHMGZS'}
2025-01-04 13:40:43,481 [INFO] __main__: Director logged in successfully.
2025-01-04 13:40:43,481 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 13:40:43,491 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_703_0_27_26_1_1_67_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15764454}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 53359666}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 53359628}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 52598037}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 52448585}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 52158924}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 51948930}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 51756847}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 51732329}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 51680730}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 50836142}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_703_0_27_26_1_1_67_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55019627}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55019627}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 55019634}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 55019668}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 55019628}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 55019643}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 16054972}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 16054948}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 16054934}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16054926}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16054926}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16054925}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16054925}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 15935891}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 15935850}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_703_0_27_26_1_1_67_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 42126215}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 42119169}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 42080421}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 41840259}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 41236633}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 41211267}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 41107663}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 40829552}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 40507019}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 16110505}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_703_0_27_26_1_1_67_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 57360153}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 57360199}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 57360166}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 51596331}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57360146}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57360145}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57360146}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57360146}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57360145}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 13:40:43,496 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,496 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,496 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:43,496 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 13:40:43,497 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:43,497 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:43,497 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:44,711 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 13:40:44,712 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 13:40:47,173 [DEBUG] src.console_functions: Raw input is: ['restart']
2025-01-04 13:40:47,174 [INFO] src.console_functions: Console received 'restart' command. Restarting process.
2025-01-04 13:40:47,395 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 13:40:47,395 [DEBUG] __main__: Entering main_logic function...
2025-01-04 13:40:47,675 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_hOpKNogrOhiAOfMLrdQL_1co8HK', 'home_server': 'localhost', 'device_id': 'CWMTWAJEWK'}
2025-01-04 13:40:47,675 [INFO] __main__: Director logged in successfully.
2025-01-04 13:40:47,675 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 13:40:47,691 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_703_0_27_26_1_1_68_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15768648}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 53363860}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 53363822}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 52602231}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 52452779}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 52163118}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 51953124}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 51761041}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 51736523}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 51684924}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 50840336}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_703_0_27_26_1_1_68_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55023821}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55023821}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 55023828}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 55023862}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 55023822}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 55023837}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 16059166}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 16059142}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 16059128}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16059120}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16059120}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16059119}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16059119}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 15940085}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 15940044}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_703_0_27_26_1_1_68_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 42130409}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 42123363}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 42084615}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 41844453}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 41240827}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 41215461}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 41111857}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 40833746}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 40511213}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 16114699}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_703_0_27_26_1_1_68_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 57364347}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 57364393}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 57364360}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 51600525}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57364340}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57364339}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57364340}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57364340}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57364339}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 13:40:47,698 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 13:40:47,698 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:47,698 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:40:47,698 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:47,698 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:47,698 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 13:40:47,699 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,699 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,699 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,700 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,700 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,700 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,700 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,700 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,700 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:47,700 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:40:47,700 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:40:49,433 [DEBUG] src.console_functions: Raw input is: ['clear']
2025-01-04 13:40:49,500 [INFO] src.console_functions: Console screen cleared.
2025-01-04 13:40:50,240 [DEBUG] src.console_functions: Raw input is: ['help']
2025-01-04 13:40:50,240 [INFO] src.console_functions: Displayed help to the console user.
2025-01-04 13:41:02,893 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 13:41:02,894 [DEBUG] __main__: Closing event loop.
2025-01-04 13:41:06,580 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 13:41:06,580 [DEBUG] __main__: Entering main_logic function...
2025-01-04 13:41:06,866 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_GKPoHJuntgXXvbQVnJwV_3XrjEB', 'home_server': 'localhost', 'device_id': 'OVWLWARSWV'}
2025-01-04 13:41:06,867 [INFO] __main__: Director logged in successfully.
2025-01-04 13:41:06,867 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 13:41:06,878 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_705_0_27_26_1_1_69_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 15787839}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 53383051}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 53383013}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 52621422}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 52471970}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 52182309}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 51972315}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 51780232}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 51755714}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 51704115}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 50859527}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_705_0_27_26_1_1_69_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55043012}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 55043012}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 55043019}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 55043053}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 55043013}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 55043028}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 16078357}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 16078333}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 16078319}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16078311}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 16078311}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16078310}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 16078310}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 15959276}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 15959235}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_705_0_27_26_1_1_69_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 42149600}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 42142554}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 42103806}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 41863644}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 41260018}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 41234652}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 41131048}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 40852937}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 40530404}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 16133890}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_705_0_27_26_1_1_69_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 57383538}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 57383584}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 57383551}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 51619716}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57383531}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57383530}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57383531}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 57383531}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 57383530}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 13:41:06,886 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,886 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,886 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,886 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,886 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 13:41:06,887 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,887 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,887 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:06,888 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 13:41:06,888 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 13:41:07,864 [DEBUG] src.console_functions: Raw input is: ['exit']
2025-01-04 13:41:07,864 [INFO] src.console_functions: Console received 'exit' command. Exiting process.
2025-01-04 13:41:14,120 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 13:41:14,121 [DEBUG] __main__: Closing event loop.
2025-01-04 13:41:14,137 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x1025774d0>
2025-01-04 13:41:14,138 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-5' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 19:23:47,553 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 19:23:47,554 [DEBUG] __main__: Entering main_logic function...
2025-01-04 19:23:47,830 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_ekmLgyMdhRwNNgEuugPH_2dxtJ8', 'home_server': 'localhost', 'device_id': 'UTRFVDQXIG'}
2025-01-04 19:23:47,831 [INFO] __main__: Director logged in successfully.
2025-01-04 19:23:47,831 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 19:23:47,867 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_771_0_27_26_1_1_70_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 31, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36348828}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 36639346}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 36639322}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 36639308}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 36639300}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 36639300}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 36639299}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 36639299}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 36520265}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 36520224}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_771_0_27_26_1_1_70_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 73944040}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 73944002}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 73182411}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 73032959}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 72743298}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 72533304}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 72341221}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 72316703}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 72265104}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 71420516}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_771_0_27_26_1_1_70_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 75604001}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 75604001}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 75604008}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 75604042}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 75604002}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 75604017}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 62710589}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 62703543}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 62664795}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 62424633}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 61821007}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 61795641}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 61692037}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 61413926}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 61091393}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 36694879}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_771_0_27_26_1_1_70_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 77944527}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 77944540}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 77944573}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 72180705}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 77944520}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 77944519}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 77944520}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 77944520}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 77944519}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 19:23:47,874 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 19:23:47,874 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 19:23:47,874 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 19:23:47,874 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 19:23:47,874 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 19:23:47,874 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 19:23:47,875 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:23:47,875 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:23:47,875 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:24:17,917 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_773_0_27_26_1_1_70_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30019, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36378859}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:24:18,750 [INFO] src.console_functions: Console screen cleared.
2025-01-04 19:24:47,943 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_773_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:25:17,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_773_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:25:17,990 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_775_0_27_26_1_1_70_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36438945}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:25:48,011 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_775_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:26:18,042 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_775_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:26:18,054 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_777_0_27_26_1_1_70_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36499017}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:26:48,090 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_777_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:27:18,138 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_777_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:27:18,158 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_779_0_27_26_1_1_70_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36559120}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:27:48,171 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_779_0_27_26_1_1_70_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:28:00,721 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 19:28:01,102 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 19:28:01,102 [DEBUG] __main__: Entering main_logic function...
2025-01-04 19:28:01,391 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_ejAYxSlAUNNjJeACxiyP_4PBxcx', 'home_server': 'localhost', 'device_id': 'IRWPWBJKOE'}
2025-01-04 19:28:01,392 [INFO] __main__: Director logged in successfully.
2025-01-04 19:28:01,392 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 19:28:01,408 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_781_0_27_26_1_1_71_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36602369}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 74197581}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 74197543}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 73435952}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 73286500}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 72996839}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 72786845}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 72594762}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 72570244}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 72518645}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 71674057}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_781_0_27_26_1_1_71_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 75857542}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 75857542}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 75857549}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 75857583}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 75857543}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 75857558}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 36892887}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 36892863}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 36892849}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 36892841}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 36892841}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 36892840}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 36892840}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 36773806}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 36773765}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_781_0_27_26_1_1_71_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 62964130}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 62957084}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 62918336}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 62678174}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 62074548}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 62049182}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 61945578}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 61667467}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 61344934}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 36948420}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_781_0_27_26_1_1_71_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 78198068}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 78198114}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 78198081}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 72434246}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78198061}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 78198060}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78198061}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78198061}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 78198060}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 19:28:01,415 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,415 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 19:28:01,416 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:01,416 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:28:01,416 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:28:03,551 [INFO] src.console_functions: Console screen cleared.
2025-01-04 19:28:31,430 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_781_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:29:01,490 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_783_0_27_26_1_1_71_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30032, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36662434}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:29:31,517 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_783_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:30:01,567 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_783_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:30:01,575 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_785_0_27_26_1_1_71_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36722538}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:30:31,600 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_785_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:31:01,621 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_785_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:31:01,626 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_787_0_27_26_1_1_71_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36782589}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:31:31,642 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_787_0_27_26_1_1_71_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:32:00,674 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 19:32:01,131 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 19:32:01,131 [DEBUG] __main__: Entering main_logic function...
2025-01-04 19:32:01,409 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_nNafcXhhENVjDXHNcdYE_39RbZp', 'home_server': 'localhost', 'device_id': 'WUWQITDPRS'}
2025-01-04 19:32:01,409 [INFO] __main__: Director logged in successfully.
2025-01-04 19:32:01,409 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 19:32:01,423 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_789_0_27_26_1_1_72_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36842385}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 74437597}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735962683862, 'unsigned': {'membership': 'join', 'age': 74437559}, 'event_id': '$7pCcJtt42ld8ksb3QF_UsMVtn0FhdjRVjcCSx3FKNHA'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 73675968}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 73526516}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 73236855}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 73026861}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 72834778}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 72810260}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 72758661}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 71914073}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}], 'prev_batch': 's21_789_0_27_26_1_1_72_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 76097558}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 76097558}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 76097565}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 76097599}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 76097559}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 76097574}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE': {'m.read': {'@evan:localhost': {'ts': 1735964381911, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'membership': 'leave', 'age': 37132903}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 37132879}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 37132865}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 37132857}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 37132857}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 37132856}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 37132856}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 37013822}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 37013781}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}], 'prev_batch': 's70_789_0_27_26_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973917275, 'unsigned': {'membership': 'join', 'age': 63204146}, 'event_id': '$v5zm0Ssk2ecgiGuUKalBvWhBR6TxUufV4vmGtlJBnhA'}, {'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 63197100}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735973963069, 'unsigned': {'membership': 'join', 'age': 63158352}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974203231, 'unsigned': {'membership': 'join', 'age': 62918190}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974806857, 'unsigned': {'membership': 'join', 'age': 62314564}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974832223, 'unsigned': {'membership': 'join', 'age': 62289198}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735974935827, 'unsigned': {'membership': 'join', 'age': 62185594}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975213938, 'unsigned': {'membership': 'join', 'age': 61907483}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735975536471, 'unsigned': {'membership': 'join', 'age': 61584950}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'hi' (auto-respond)."}, 'origin_server_ts': 1735999932985, 'unsigned': {'membership': 'join', 'age': 37188436}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}], 'prev_batch': 's51_789_0_27_26_1_1_72_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 78438084}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 78438130}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 78438097}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 72674262}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78438077}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 78438076}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78438077}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 78438077}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 78438076}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8': {'m.read': {'@evan:localhost': {'ts': 1735999965410, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 5, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 19:32:01,427 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,428 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,428 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 19:32:01,428 [INFO] nio.client.base_client: New joined room !ycPwYaTaAbSpLcHdMt:localhost
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type PowerLevelsEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomCreateEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomJoinRulesEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomNameEvent
2025-01-04 19:32:01,428 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomGuestAccessEvent
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomTopicEvent
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type UnknownEvent
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:01,429 [INFO] nio.rooms: Room !ycPwYaTaAbSpLcHdMt:localhost handling event of type RoomMessageText
2025-01-04 19:32:01,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 19:32:31,448 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_789_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:33:01,486 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_791_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36902434}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:33:31,514 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_791_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:34:01,539 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_791_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:34:01,559 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_793_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 36962519}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:34:31,576 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_793_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:35:01,598 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_793_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:35:01,611 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_795_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37022573}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:35:31,627 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_795_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:36:01,645 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_795_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:36:01,664 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_797_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37082623}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:36:31,699 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_797_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:37:01,724 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_797_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:37:01,734 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_799_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37142696}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:37:31,754 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_799_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:38:01,807 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_799_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:38:01,848 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_801_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37202810}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:38:31,861 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_801_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:39:01,885 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_801_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:39:01,896 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_803_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37262858}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:39:31,905 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_803_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:40:01,937 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_803_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:40:01,958 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_805_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 37322919}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 19:40:32,010 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_805_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:01:25,289 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_805_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:01:25,544 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_809_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 168, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 38606496}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:01:55,591 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_809_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:02:25,650 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's70_811_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30028, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 38666598}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:02:46,638 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's71_811_0_27_26_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 37}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}], 'prev_batch': 's70_811_0_27_26_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:02:46,639 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:02:46,679 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's71_812_0_27_26_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:02:56,017 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's72_812_0_27_27_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 49}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's72_812_0_27_26_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}}}}}
2025-01-04 20:03:01,555 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's82_814_0_27_29_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5530, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 2521, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:03:31,560 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's88_814_0_27_38_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:04:01,540 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's94_816_0_27_45_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 29968, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 4999, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:04:16,549 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's97_816_0_27_46_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 31}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's96_816_0_27_46_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:20,806 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's97_816_0_28_47_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [], 'prev_batch': 's97_816_0_27_46_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM': {'m.read': {'@evan:localhost': {'ts': 1736039060796, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:23,046 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's97_816_1_28_47_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [], 'prev_batch': 's97_816_0_28_47_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': ['@evan:localhost']}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:23,357 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's97_816_2_28_47_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [], 'prev_batch': 's97_816_1_28_47_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:23,414 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's98_816_2_28_47_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 23}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}], 'prev_batch': 's97_816_2_28_47_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 1, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:23,415 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:04:23,415 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:04:23,415 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:04:23,438 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_816_2_28_47_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 19, 'transaction_id': 'dfb97203-3316-49aa-99d9-5dd799e73a42'}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}], 'prev_batch': 's98_816_2_28_47_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 1, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:23,439 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:04:23,439 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:04:23,549 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_816_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [], 'prev_batch': 's99_816_2_28_47_1_1_72_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 1, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:04:53,589 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_816_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:05:23,622 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_818_2_29_48_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30017, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30000, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:05:53,652 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_818_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:06:23,683 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_818_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:06:23,694 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_820_2_29_48_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30012, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:06:53,701 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_820_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:07:23,713 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_820_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:07:23,720 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_822_2_29_48_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29986, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:07:53,728 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_822_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:08:23,746 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_822_2_29_48_1_1_72_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:08:23,756 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_824_2_29_48_1_1_72_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29968, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:08:26,292 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:08:26,722 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:08:26,722 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:08:27,004 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_fGqwBBIgkkjkjJEBPLFK_1FV0mo', 'home_server': 'localhost', 'device_id': 'PAAOUMASJL'}
2025-01-04 20:08:27,004 [INFO] __main__: Director logged in successfully.
2025-01-04 20:08:27,004 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:08:27,026 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's99_824_2_29_48_1_1_73_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 15, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963445453, 'unsigned': {'membership': 'join', 'age': 75861570}, 'event_id': '$C8a2ZpJGpL1WY2tVvrMW4OdXJ4b9HLQUU6-NLnWDL2E'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 75712118}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 75422457}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 75212463}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 75020380}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 74995862}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 74944263}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 74099675}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 243642}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 243606}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}], 'prev_batch': 's23_824_2_29_48_1_1_73_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78283160}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78283160}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 78283167}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 78283201}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 76623199}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 78283161}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 78283176}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 1, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 39318481}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 39318467}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39318459}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39318459}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39318458}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39318458}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 39199424}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 340432}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39199383}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 340432}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 250507}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_824_2_29_48_1_1_73_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 39318505}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 39318481}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 65382702}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 328191}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 65343954}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 328208}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 65103792}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 328235}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 64500166}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 328253}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 64474800}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 328275}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 64371196}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 328297}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 64093085}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 328315}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 63770552}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 328377}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 39374038}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 331064}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_824_2_29_48_1_1_73_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 80623686}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 80623732}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 80623699}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 74859864}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80623679}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 80623678}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80623679}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80623679}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 80623678}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:08:27,037 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,037 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,037 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:08:27,037 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:08:27,047 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,048 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:27,048 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:08:27,048 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:08:27,054 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_824_2_29_48_1_1_73_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 15, 'transaction_id': '9c2d6ae1-edc4-4316-8fb5-2fc5258a676b'}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}], 'prev_batch': 's99_824_2_29_48_1_1_73_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:08:27,054 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:08:27,054 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:08:57,075 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_824_2_29_48_1_1_73_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:09:27,095 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_826_2_29_48_1_1_73_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29944, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:09:27,206 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_827_2_29_48_1_1_73_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30055}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:09:57,223 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_827_2_29_48_1_1_73_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:09:58,001 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:09:58,347 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:09:58,348 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:09:58,634 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_TDPzSeSXprIvpawxuLuL_2l01H4', 'home_server': 'localhost', 'device_id': 'OFVNTDSTNQ'}
2025-01-04 20:09:58,634 [INFO] __main__: Director logged in successfully.
2025-01-04 20:09:58,634 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:09:58,646 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's100_827_2_29_48_1_1_74_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 7, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 61501}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 39410101}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 39410087}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39410079}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39410079}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39410078}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39410078}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 39291044}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 432052}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39291003}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 432052}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 342127}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_827_2_29_48_1_1_74_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 39410125}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 39410101}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963594905, 'unsigned': {'membership': 'join', 'age': 75803738}, 'event_id': '$24yLdVP4ZMZmMZWN11LW53wGWVnKaRGND3uBoPIcocE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 75514077}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 75304083}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 75112000}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 75087482}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75035883}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 74191295}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 335262}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 335226}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 91604}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}], 'prev_batch': 's24_827_2_29_48_1_1_74_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78374780}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78374780}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 78374787}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 78374821}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 76714819}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 78374781}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 78374796}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.typing', 'content': {'user_ids': []}}, {'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 65474322}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 419811}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 65435574}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 419828}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 65195412}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 419855}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 64591786}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 419873}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 64566420}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 419895}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 64462816}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 419917}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 64184705}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 419935}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 63862172}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 419997}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 39465658}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 422684}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_827_2_29_48_1_1_74_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 80715306}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 80715352}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 80715319}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 74951484}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80715299}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 80715298}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80715299}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 80715299}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 80715298}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:09:58,652 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:09:58,653 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:09:58,653 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,653 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,654 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,654 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:09:58,654 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:09:58,663 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,663 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,663 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,663 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:09:58,666 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_827_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 10, 'transaction_id': 'f7194e6b-3fe0-4745-9d63-c6a0e664f96f'}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}], 'prev_batch': 's100_827_2_29_48_1_1_74_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:09:58,666 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:09:58,666 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:10:28,678 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_829_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 91530}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:10:58,688 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_829_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:11:28,700 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_829_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:11:28,720 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_831_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 151576}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:11:58,735 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_831_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:12:28,751 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_831_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:12:28,760 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_833_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 211616}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:12:58,773 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_833_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:13:28,785 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_833_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:13:28,794 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_835_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 271650}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:13:58,803 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_835_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:14:28,815 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_835_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:14:28,818 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_837_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 331675}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:14:58,826 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_837_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:15:28,836 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_837_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:15:28,843 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_839_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 391699}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:15:58,853 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_839_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:16:28,871 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_839_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:16:28,882 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_841_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 451737}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:16:58,887 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_841_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:17:28,896 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_841_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:17:28,905 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_843_2_29_48_1_1_74_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 511761}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:17:58,916 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_843_2_29_48_1_1_74_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:18:18,108 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:18:18,528 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:18:18,528 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:18:18,810 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_ulIYNXbRSxnMwWhOGgqw_36flId', 'home_server': 'localhost', 'device_id': 'WTMLGYBHFQ'}
2025-01-04 20:18:18,810 [INFO] __main__: Director logged in successfully.
2025-01-04 20:18:18,810 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:18:18,824 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's101_845_2_29_48_1_1_75_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 561678}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 39910278}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 39910264}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39910256}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39910256}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39910255}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39910255}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 39791221}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 932229}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39791180}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 932229}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 842304}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_845_2_29_48_1_1_75_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 39910302}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 39910278}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735963884566, 'unsigned': {'membership': 'join', 'age': 76014254}, 'event_id': '$1rctpqgDECJEV4AyGxSc-1Fq-Wjm1ogIRzGu-q0_KrM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 75804260}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 75612177}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 75587659}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75536060}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 74691472}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 835439}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 835403}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 591781}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 500164}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}], 'prev_batch': 's25_845_2_29_48_1_1_75_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78874957}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78874957}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 78874964}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 78874998}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77214996}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 78874958}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 78874973}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 65974499}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 919988}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 65935751}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 920005}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 65695589}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 920032}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65091963}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 920050}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65066597}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 920072}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 64962993}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 920094}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 64684882}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 920112}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64362349}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 920174}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 39965835}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 922861}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_845_2_29_48_1_1_75_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81215483}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81215529}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81215496}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75451661}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81215476}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81215475}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81215476}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81215476}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81215475}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:18:18,831 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:18:18,831 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:18:18,831 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:18:18,831 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:18:18,831 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:18:18,831 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:18:18,832 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,832 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,832 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:18:18,832 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:18:18,840 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,840 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,840 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,840 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,840 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,840 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:18,843 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's102_845_2_29_48_1_1_75_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 9, 'transaction_id': '8c905eaf-67d4-4747-93d9-16f4252c1eda'}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}], 'prev_batch': 's101_845_2_29_48_1_1_75_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:18:18,844 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:18,844 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:36,175 [INFO] src.console_functions: Console screen cleared.
2025-01-04 20:18:48,854 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's102_845_2_29_48_1_1_75_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:18:54,869 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:18:55,115 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:18:55,116 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:18:55,409 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_QvaOzrIsPnpIgyWpuRWk_2MAocV', 'home_server': 'localhost', 'device_id': 'XDEYXYYEZC'}
2025-01-04 20:18:55,409 [INFO] __main__: Director logged in successfully.
2025-01-04 20:18:55,409 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:18:55,421 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's102_845_2_29_48_1_1_76_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 598277}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 39946877}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 39946863}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39946855}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 39946855}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39946854}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 39946854}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 39827820}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 968828}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 39827779}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 968828}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 878903}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_845_2_29_48_1_1_76_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 39946901}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 39946877}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964094560, 'unsigned': {'membership': 'join', 'age': 75840859}, 'event_id': '$ss7AuyM9bZHoV7PIfCQQm79IPjU-CbCu4vM-fHAPANY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 75648776}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 75624258}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75572659}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 74728071}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 872038}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 872002}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 628380}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 536763}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 36585}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}], 'prev_batch': 's26_845_2_29_48_1_1_76_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78911556}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 78911556}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 78911563}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 78911597}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77251595}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 78911557}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 78911572}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 66011098}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 956587}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 65972350}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 956604}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 65732188}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 956631}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65128562}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 956649}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65103196}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 956671}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 64999592}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 956693}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 64721481}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 956711}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64398948}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 956773}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 40002434}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 959460}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_845_2_29_48_1_1_76_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81252082}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81252128}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81252095}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75488260}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81252075}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81252074}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81252075}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81252075}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81252074}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:18:55,428 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:18:55,428 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:18:55,429 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,429 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,429 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:18:55,429 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:18:55,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,437 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,437 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,438 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:18:55,441 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_845_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 10, 'transaction_id': 'd92eb1bd-985d-4244-a150-a5da42db6735'}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}], 'prev_batch': 's102_845_2_29_48_1_1_76_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:18:55,442 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:18:55,442 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:19:25,452 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_847_2_29_48_1_1_76_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 628306}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:19:55,463 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_847_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:20:25,472 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_847_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:20:25,478 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_849_2_29_48_1_1_76_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 688335}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:20:55,485 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_849_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:21:25,492 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_849_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:21:25,497 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_851_2_29_48_1_1_76_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 748354}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:21:55,510 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_851_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:22:25,527 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_851_2_29_48_1_1_76_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:22:25,543 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_853_2_29_48_1_1_76_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 808397}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:22:50,683 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:23:08,662 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:23:08,662 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:23:08,948 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_OkZXRHslGWMJjEpFwzBu_466ls5', 'home_server': 'localhost', 'device_id': 'IMUKAHQJOQ'}
2025-01-04 20:23:08,948 [INFO] __main__: Director logged in successfully.
2025-01-04 20:23:08,948 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:23:08,962 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's103_857_2_29_48_1_1_77_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 851817}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 40200417}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 40200403}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40200395}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40200395}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40200394}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40200394}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 40081360}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 1222368}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40081319}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 1222368}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 1132443}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_857_2_29_48_1_1_77_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 40200441}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 40200417}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964286643, 'unsigned': {'membership': 'join', 'age': 75902316}, 'event_id': '$vqZWVDB0Hh1bxB8rJw7ilIaqqHj8sYS5hTVqy25QooE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 75877798}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75826199}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 74981611}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 1125578}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 1125542}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 881920}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 790303}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 290125}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 253528}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}], 'prev_batch': 's27_857_2_29_48_1_1_77_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79165096}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79165096}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 79165103}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 79165137}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77505135}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 79165097}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 79165112}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 66264638}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 1210127}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 66225890}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 1210144}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 65985728}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 1210171}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65382102}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 1210189}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65356736}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 1210211}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 65253132}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 1210233}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 64975021}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 1210251}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64652488}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 1210313}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 40255974}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 1213000}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_857_2_29_48_1_1_77_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81505622}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81505668}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81505635}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75741800}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81505615}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81505614}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81505615}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81505615}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81505614}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:23:08,972 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:23:08,972 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:23:08,972 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,973 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,973 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,973 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,973 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,973 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,973 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:23:08,973 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:23:08,981 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,982 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,982 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:08,987 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's104_857_2_29_48_1_1_77_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 12, 'transaction_id': '18527c03-bf57-4149-a28b-135040e3b461'}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}], 'prev_batch': 's103_857_2_29_48_1_1_77_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:23:08,987 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:23:08,987 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:23:39,000 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's104_857_2_29_48_1_1_77_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:23:44,266 [INFO] src.console_functions: Console received 'exit' command; calling sys.exit(0).
2025-01-04 20:23:47,634 [INFO] __main__: Shutting down Director via KeyboardInterrupt.
2025-01-04 20:23:47,634 [DEBUG] __main__: Closing event loop.
2025-01-04 20:23:47,670 [ERROR] asyncio: Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x106a874d0>
2025-01-04 20:23:47,670 [ERROR] asyncio: Task was destroyed but it is pending!
task: <Task pending name='Task-10' coro=<AsyncClient.sync() running at /Users/evanrobinson/Documents/luna2/luna/.venv/lib/python3.13/site-packages/nio/client/base_client.py:116> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_AsCompletedIterator._handle_completion()]>
2025-01-04 20:25:44,267 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:25:44,268 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:25:44,543 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_OkXVRPnGlJeKSRyQgNLr_1zPSti', 'home_server': 'localhost', 'device_id': 'XWSAPPPHSA'}
2025-01-04 20:25:44,546 [INFO] __main__: Director logged in successfully.
2025-01-04 20:25:44,546 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:25:44,565 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's104_862_2_29_48_1_1_78_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1007417}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 40356017}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 40356003}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40355995}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40355995}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40355994}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40355994}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 40236960}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 1377968}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40236919}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 1377968}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 1288043}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_862_2_29_48_1_1_78_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 40356041}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 40356017}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964311161, 'unsigned': {'membership': 'join', 'age': 76033398}, 'event_id': '$KzD0hpEohj7owNAAVtkGXqRy7pfSv20Q9aZitacEwxs'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75981799}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 75137211}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 1281178}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 1281142}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 1037520}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 945903}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 445725}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 409128}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 155585}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}], 'prev_batch': 's28_862_2_29_48_1_1_78_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79320696}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79320696}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 79320703}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 79320737}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77660735}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 79320697}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 79320712}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 66420238}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 1365727}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 66381490}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 1365744}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 66141328}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 1365771}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65537702}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 1365789}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65512336}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 1365811}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 65408732}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 1365833}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 65130621}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 1365851}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64808088}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 1365913}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 40411574}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 1368600}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_862_2_29_48_1_1_78_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81661222}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81661268}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81661235}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75897400}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81661215}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81661214}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81661215}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81661215}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81661214}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:25:44,573 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:25:44,573 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:25:44,573 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,574 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,574 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,574 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,574 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,574 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,574 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,574 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:25:44,574 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:25:44,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,584 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,584 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,584 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,584 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,584 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,584 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:44,588 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's105_862_2_29_48_1_1_78_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 11, 'transaction_id': '21bc9cae-466d-4a8d-8f79-f6c5bebe469f'}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}], 'prev_batch': 's104_862_2_29_48_1_1_78_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:25:44,588 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:25:44,588 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:25:50,309 [INFO] src.console_functions: Console screen cleared.
2025-01-04 20:25:59,648 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:25:59,892 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:25:59,893 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:26:00,173 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_ELvwNXSazRNuGKeMiwyE_2lnfyQ', 'home_server': 'localhost', 'device_id': 'IABNOJLMAK'}
2025-01-04 20:26:00,173 [INFO] __main__: Director logged in successfully.
2025-01-04 20:26:00,176 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:26:00,189 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's105_864_2_29_48_1_1_79_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1023045}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 40371645}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 40371631}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40371623}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40371623}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40371622}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40371622}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 40252588}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 1393596}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40252547}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 1393596}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 1303671}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_864_2_29_48_1_1_79_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 40371669}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 40371645}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735964362760, 'unsigned': {'membership': 'join', 'age': 75997427}, 'event_id': '$fanMwYiDaJYGeTbSA3lwujuVQo_tNv2PH-XbWv1zbGE'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 75152839}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 1296806}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 1296770}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 1053148}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 961531}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 461353}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 424756}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 171213}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 15611}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}], 'prev_batch': 's29_864_2_29_48_1_1_79_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79336324}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79336324}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 79336331}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 79336365}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77676363}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 79336325}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 79336340}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 66435866}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 1381355}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 66397118}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 1381372}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 66156956}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 1381399}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65553330}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 1381417}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65527964}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 1381439}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 65424360}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 1381461}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 65146249}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 1381479}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64823716}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 1381541}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 40427202}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 1384228}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_864_2_29_48_1_1_79_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81676850}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81676896}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81676863}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75913028}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81676843}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81676842}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81676843}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81676843}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81676842}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:26:00,196 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:26:00,196 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,196 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,196 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,196 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,197 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:26:00,197 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:26:00,204 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,204 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,204 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,204 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,204 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,205 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,205 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,205 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,205 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,205 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,205 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,205 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,205 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,205 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,208 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's106_864_2_29_48_1_1_79_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040360198, 'unsigned': {'membership': 'join', 'age': 10, 'transaction_id': 'b7ab52b0-fd33-4ebf-b6da-06ab570a1c24'}, 'event_id': '$_cBvgqH10znQ9Hyr2mbfZse4XGu83aOZwvNwUkWQZMw'}], 'prev_batch': 's105_864_2_29_48_1_1_79_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:26:00,209 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:00,209 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:00,713 [INFO] src.console_functions: Console screen cleared.
2025-01-04 20:26:03,046 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:26:03,287 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:26:03,288 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:26:03,556 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_TPlDvAwlAcYuTzWFaoLy_1Gmqej', 'home_server': 'localhost', 'device_id': 'SXKPYVIPQM'}
2025-01-04 20:26:03,556 [INFO] __main__: Director logged in successfully.
2025-01-04 20:26:03,557 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:26:03,568 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's106_864_2_29_48_1_1_80_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1026424}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 40375024}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 40375010}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40375002}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 40375002}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40375001}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 40375001}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 40255967}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 1396975}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 40255926}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 1396975}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 1307050}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_864_2_29_48_1_1_80_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 40375048}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 40375024}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'Welcome.' (auto-respond)."}, 'origin_server_ts': 1735965207348, 'unsigned': {'membership': 'join', 'age': 75156218}, 'event_id': '$kYUdbdm9Q8F0R6rg0v9eDGXO7FmDitryWZeSLZErRNM'}, {'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 1300185}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 1300149}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 1056527}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 964910}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 464732}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 428135}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 174592}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 18990}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040360198, 'unsigned': {'membership': 'join', 'age': 3368}, 'event_id': '$_cBvgqH10znQ9Hyr2mbfZse4XGu83aOZwvNwUkWQZMw'}], 'prev_batch': 's34_864_2_29_48_1_1_80_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79339703}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 79339703}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 79339710}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 79339744}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 77679742}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 79339704}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 79339719}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0': {'m.read': {'@evan:localhost': {'ts': 1736039063532, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 66439245}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 1384734}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 66400497}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 1384751}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 66160335}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 1384778}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 65556709}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 1384796}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 65531343}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 1384818}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 65427739}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 1384840}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 65149628}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 1384858}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 64827095}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 1384920}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 40430581}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 1387607}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_864_2_29_48_1_1_80_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 81680229}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 81680275}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 81680242}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 75916407}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81680222}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81680221}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81680222}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 81680222}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 81680221}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:26:03,575 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:26:03,575 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,575 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,575 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,575 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:26:03,575 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,583 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,583 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:03,587 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_864_2_29_48_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040363577, 'unsigned': {'membership': 'join', 'age': 9, 'transaction_id': '8bf1d363-2c40-4ce7-9ea6-d14b14c0ea79'}, 'event_id': '$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY'}], 'prev_batch': 's106_864_2_29_48_1_1_80_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:26:03,587 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:26:03,587 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:26:33,601 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_864_2_29_48_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:27:03,619 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_866_2_29_48_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30008, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1086472}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:27:33,640 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_866_2_29_48_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:28:03,659 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_866_2_29_48_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:28:03,671 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_868_2_29_48_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1146524}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:28:08,970 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_869_2_29_48_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:28:08,985 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's107_869_2_30_48_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [], 'prev_batch': 's107_869_2_29_48_1_1_80_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY': {'m.read': {'@evan:localhost': {'ts': 1736040488969, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:28:39,002 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_869_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:29:09,018 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_869_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:29:09,032 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_871_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11366, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:29:39,048 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_871_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:30:09,060 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_871_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:30:09,072 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_873_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11335, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:30:39,080 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_873_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:31:09,096 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_873_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:31:09,103 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_875_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11305, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:31:39,119 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_875_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:32:09,134 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_875_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:32:09,144 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_877_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 6, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11252, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:32:39,157 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_877_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:33:09,169 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_877_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:33:09,177 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_879_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11218, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:33:39,190 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_879_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:34:09,204 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_879_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:34:09,216 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_881_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11174, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:34:39,230 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_881_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:35:09,247 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_881_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:35:09,256 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_883_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11137, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:35:39,268 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_883_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:36:09,281 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_883_2_32_51_1_1_80_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:36:09,292 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's115_885_2_32_51_1_1_80_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 4, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 11098, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:50:48,712 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:50:48,712 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:50:48,993 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_ICDUTRfVFfxaxPEDASWK_0vwThC', 'home_server': 'localhost', 'device_id': 'ROZEHYGWJW'}
2025-01-04 20:50:48,994 [INFO] __main__: Director logged in successfully.
2025-01-04 20:50:48,994 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:50:49,012 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's116_903_2_33_56_1_1_81_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 12, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 41860466}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 41860452}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 41860444}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 41860444}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 41860443}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 41860443}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 41741409}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 2882417}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 41741368}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 2882417}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 2792492}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_903_2_33_56_1_1_81_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 41860490}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 41860466}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@evan:localhost', 'content': {'msgtype': 'm.text', 'body': 'test', 'm.mentions': {}}, 'origin_server_ts': 1736039063381, 'unsigned': {'membership': 'join', 'age': 2785627}, 'event_id': '$m6I9NB6TOifHlRdDSOa5PM9W7L_12w7pNmPuR_I7L5U'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 2785591}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 2541969}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 2450352}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 1950174}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 1913577}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 1660034}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 1504432}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040360198, 'unsigned': {'membership': 'join', 'age': 1488810}, 'event_id': '$_cBvgqH10znQ9Hyr2mbfZse4XGu83aOZwvNwUkWQZMw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040363577, 'unsigned': {'membership': 'join', 'age': 1485431}, 'event_id': '$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY'}], 'prev_batch': 's97_903_2_33_56_1_1_81_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 80825145}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 80825145}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 80825152}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 80825186}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 79165184}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 80825146}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 80825161}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY': {'m.read': {'@evan:localhost': {'ts': 1736040488969, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'invite': {'!EsqsnWFdzkOCEcTwqX:localhost': {'invite_state': {'events': [{'type': 'm.room.join_rules', 'state_key': '', 'content': {'join_rule': 'invite'}, 'sender': '@evan:localhost'}, {'type': 'm.room.create', 'state_key': '', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'sender': '@evan:localhost'}, {'type': 'm.room.encryption', 'state_key': '', 'content': {'algorithm': 'm.megolm.v1.aes-sha2'}, 'sender': '@evan:localhost'}, {'type': 'm.room.name', 'state_key': '', 'content': {'name': 'AutoJoin Test 1'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'state_key': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'sender': '@evan:localhost'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041701806, 'unsigned': {'age': 147202}, 'event_id': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc'}]}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 67924687}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 2870176}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 67885939}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 2870193}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 67645777}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 2870220}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 67042151}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 2870238}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 67016785}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 2870260}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 66913181}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 2870282}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 66635070}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 2870300}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 66312537}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 2870362}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 41916023}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 2873049}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_903_2_33_56_1_1_81_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 83165671}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 83165717}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 83165684}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 77401849}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83165664}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 83165663}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83165664}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83165664}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 83165663}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:50:49,030 [INFO] nio.client.base_client: New invited room !EsqsnWFdzkOCEcTwqX:localhost
2025-01-04 20:50:49,030 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type InviteNameEvent
2025-01-04 20:50:49,030 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type InviteMemberEvent
2025-01-04 20:50:49,030 [INFO] src.luna_functions: Received invite to !EsqsnWFdzkOCEcTwqX:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 20:50:49,030 [INFO] src.luna_functions: Joining !EsqsnWFdzkOCEcTwqX:localhost...
2025-01-04 20:50:49,043 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type InviteMemberEvent
2025-01-04 20:50:49,043 [INFO] src.luna_functions: Received invite to !EsqsnWFdzkOCEcTwqX:localhost, AUTO_JOIN_ENABLED=True
2025-01-04 20:50:49,043 [INFO] src.luna_functions: Joining !EsqsnWFdzkOCEcTwqX:localhost...
2025-01-04 20:50:49,051 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:50:49,051 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:49,051 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:49,051 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:50:49,051 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:50:49,051 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:49,051 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:50:49,052 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:49,052 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,052 [INFO] src.luna_functions: Received message in !jqLnezkXSKwnRifFZu:localhost from @evan:localhost: test
2025-01-04 20:50:49,053 [DEBUG] src.luna_functions: Sending response: Hello @evan:localhost, you said 'test' (auto-respond).
2025-01-04 20:50:49,064 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,064 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,064 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,064 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,064 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,064 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,064 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,065 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,065 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,073 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_903_2_33_56_1_1_81_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 51, 'currently_active': True}}]}, 'device_lists': {'changed': ['@director:localhost', '@evan:localhost']}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736041849055, 'unsigned': {'membership': 'join', 'age': 16, 'transaction_id': 'abe7dc4d-ab17-49bf-b37d-1a406f95faaf'}, 'event_id': '$DvMc1-0ufcOk6k2TJW0hii95uiL44xaI4Mmz2DZdaNY'}], 'prev_batch': 's117_903_2_33_56_1_1_81_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}, '!EsqsnWFdzkOCEcTwqX:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1736040506978, 'unsigned': {'membership': 'leave', 'age': 1342093}, 'event_id': '$35HiBIXx0fzOzHyjh5m8GQc08n34VDR-0MKd3ISBkbU'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736040507001, 'unsigned': {'membership': 'leave', 'age': 1342070}, 'event_id': '$o3zuIfYu43GUd7l94eUAZok61cDOuk4NiVbZL373Lhw'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1736040507020, 'unsigned': {'membership': 'leave', 'age': 1342051}, 'event_id': '$HZK3x_d0puDrWGVrepHPN-BAFAJLUEhROwTzfcYWgNM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1342040}, 'event_id': '$obiM1oEs15xVHBkP46yq9u64K3Nm0sqvpsjqGA6s0os'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1342040}, 'event_id': '$38TZYs0rNPUH7OETCv4TFOgaGDkdRF9oA0KHX7KDB-s'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1342040}, 'event_id': '$F2376bsEHL1K66AbSJxx2ssDr7tDFKfI7d9i08SOriM'}, {'type': 'm.room.encryption', 'sender': '@evan:localhost', 'content': {'algorithm': 'm.megolm.v1.aes-sha2'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1342040}, 'event_id': '$kH-E28eBaN06p8NT2IrrdPhanvGqBv2O1bc9-kLWWoo'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'AutoJoin Test 1'}, 'state_key': '', 'origin_server_ts': 1736040507032, 'unsigned': {'membership': 'leave', 'age': 1342039}, 'event_id': '$KBn0sDlB9Z0N2gOqpbvuRjOwhkFGOoVy-XpbPnVGM30'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041701806, 'unsigned': {'membership': 'invite', 'age': 147265}, 'event_id': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041849033, 'unsigned': {'replaces_state': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 38}, 'event_id': '$AduTPeAk0n7sxBzMiRHnOC_OIjQdaouLE8ad050_fbQ'}], 'prev_batch': 's116_903_2_33_56_1_1_81_0_1', 'limited': True}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': []}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:50:49,076 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:49,076 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:49,077 [INFO] nio.client.base_client: New joined room !EsqsnWFdzkOCEcTwqX:localhost
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomEncryptionEvent
2025-01-04 20:50:49,077 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomNameEvent
2025-01-04 20:50:51,430 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 20:50:51,680 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 20:50:51,681 [DEBUG] __main__: Entering main_logic function...
2025-01-04 20:50:51,947 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_kqsyBdOsTunaRJUALiIJ_4YTQX5', 'home_server': 'localhost', 'device_id': 'OXWKGJEDMX'}
2025-01-04 20:50:51,947 [INFO] __main__: Director logged in successfully.
2025-01-04 20:50:51,947 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 20:50:51,959 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_903_2_33_56_1_1_82_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 9, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 2859, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!EsqsnWFdzkOCEcTwqX:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1736040506978, 'unsigned': {'membership': 'leave', 'age': 1344979}, 'event_id': '$35HiBIXx0fzOzHyjh5m8GQc08n34VDR-0MKd3ISBkbU'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736040507001, 'unsigned': {'membership': 'leave', 'age': 1344956}, 'event_id': '$o3zuIfYu43GUd7l94eUAZok61cDOuk4NiVbZL373Lhw'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1736040507020, 'unsigned': {'membership': 'leave', 'age': 1344937}, 'event_id': '$HZK3x_d0puDrWGVrepHPN-BAFAJLUEhROwTzfcYWgNM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1344926}, 'event_id': '$obiM1oEs15xVHBkP46yq9u64K3Nm0sqvpsjqGA6s0os'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1344926}, 'event_id': '$38TZYs0rNPUH7OETCv4TFOgaGDkdRF9oA0KHX7KDB-s'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1344926}, 'event_id': '$F2376bsEHL1K66AbSJxx2ssDr7tDFKfI7d9i08SOriM'}, {'type': 'm.room.encryption', 'sender': '@evan:localhost', 'content': {'algorithm': 'm.megolm.v1.aes-sha2'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 1344926}, 'event_id': '$kH-E28eBaN06p8NT2IrrdPhanvGqBv2O1bc9-kLWWoo'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'AutoJoin Test 1'}, 'state_key': '', 'origin_server_ts': 1736040507032, 'unsigned': {'membership': 'leave', 'age': 1344925}, 'event_id': '$KBn0sDlB9Z0N2gOqpbvuRjOwhkFGOoVy-XpbPnVGM30'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041701806, 'unsigned': {'membership': 'invite', 'age': 150151}, 'event_id': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041849033, 'unsigned': {'replaces_state': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 2924}, 'event_id': '$AduTPeAk0n7sxBzMiRHnOC_OIjQdaouLE8ad050_fbQ'}], 'prev_batch': 's118_903_2_33_56_1_1_82_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc': {'m.read': {'@evan:localhost': {'ts': 1736041702263, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 41863415}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 41863401}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 41863393}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 41863393}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 41863392}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 41863392}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 41744358}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 2885366}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 41744317}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 2885366}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 2795441}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_903_2_33_56_1_1_82_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 41863439}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 41863415}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 2788540}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 2544918}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 2453301}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 1953123}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 1916526}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 1662983}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 1507381}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040360198, 'unsigned': {'membership': 'join', 'age': 1491759}, 'event_id': '$_cBvgqH10znQ9Hyr2mbfZse4XGu83aOZwvNwUkWQZMw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040363577, 'unsigned': {'membership': 'join', 'age': 1488380}, 'event_id': '$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736041849055, 'unsigned': {'membership': 'join', 'age': 2902}, 'event_id': '$DvMc1-0ufcOk6k2TJW0hii95uiL44xaI4Mmz2DZdaNY'}], 'prev_batch': 's98_903_2_33_56_1_1_82_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 80828094}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 80828094}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 80828101}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 80828135}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 79168133}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 80828095}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 80828110}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY': {'m.read': {'@evan:localhost': {'ts': 1736040488969, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 67927636}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 2873125}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 67888888}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 2873142}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 67648726}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 2873169}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 67045100}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 2873187}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 67019734}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 2873209}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 66916130}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 2873231}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 66638019}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 2873249}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 66315486}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 2873311}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 41918972}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 2875998}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_903_2_33_56_1_1_82_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 83168620}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 83168666}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 83168633}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 77404798}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83168613}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 83168612}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83168613}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 83168613}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 83168612}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 20:50:51,964 [INFO] nio.client.base_client: New joined room !EsqsnWFdzkOCEcTwqX:localhost
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomEncryptionEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomNameEvent
2025-01-04 20:50:51,964 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 20:50:51,964 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,964 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,964 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:50:51,965 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 20:50:51,965 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 20:51:21,978 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_905_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30005, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30011, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:51:51,996 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_905_2_33_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:52:22,026 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_905_2_33_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:52:22,043 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_907_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 30032, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:52:22,050 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_908_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30038}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:52:52,070 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_908_2_33_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:53:22,087 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_910_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30007, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 90075}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:53:52,112 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_910_2_33_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:54:22,140 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_910_2_33_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:54:22,180 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_912_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 10, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 150152}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:54:25,303 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_913_2_33_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:54:25,310 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_913_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!EsqsnWFdzkOCEcTwqX:localhost': {'timeline': {'events': [], 'prev_batch': 's118_913_2_33_56_1_1_82_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$AduTPeAk0n7sxBzMiRHnOC_OIjQdaouLE8ad050_fbQ': {'m.read': {'@evan:localhost': {'ts': 1736042065302, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}}}
2025-01-04 20:54:55,325 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_913_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:55:25,371 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_915_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30027, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29992, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:55:55,400 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_915_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:56:25,410 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_915_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:56:25,417 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_917_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29977, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:56:55,426 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_917_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:57:25,439 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_917_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:57:25,449 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_919_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'online', 'last_active_ago': 29926, 'currently_active': True}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:57:55,461 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_919_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:57:55,612 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_920_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 30044}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:58:25,631 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_922_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30009, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 60062}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:58:55,663 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_922_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:59:25,681 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_922_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:59:25,693 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_924_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 120130}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 20:59:55,711 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_924_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:00:25,752 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_924_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:00:25,756 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_926_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 0, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 180192}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:00:55,779 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_926_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:01:25,815 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_926_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:01:25,828 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_928_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 240263}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:01:55,850 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_928_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:02:25,858 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_928_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:02:25,880 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_930_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 300305}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:02:55,887 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_930_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:03:25,896 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_930_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:03:25,902 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_932_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 360339}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:03:55,918 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_932_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:04:25,927 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_932_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:04:25,931 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_934_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 420368}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:04:55,943 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_934_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:05:25,956 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_934_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:05:25,966 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_936_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 480401}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:05:55,974 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_936_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:06:25,994 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_936_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:06:26,004 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_938_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 540439}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:06:56,020 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_938_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:07:26,035 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_938_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:07:26,046 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_940_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 600481}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:07:56,057 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_940_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:08:26,072 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_940_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:08:26,082 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_942_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 660517}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:08:56,093 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_942_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:09:26,099 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_942_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:09:26,104 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_944_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 720541}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:09:56,116 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_944_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:10:26,127 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_944_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:10:26,133 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_946_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 780570}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:10:56,140 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_946_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:11:26,151 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_946_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:11:26,155 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_948_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 1, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 840592}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:11:56,167 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_948_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:12:26,182 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_948_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:12:26,187 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_950_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 900624}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:12:56,197 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_950_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:13:26,211 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_950_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:13:26,217 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_952_2_34_56_1_1_82_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 960654}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:13:56,225 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_952_2_34_56_1_1_82_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:14:03,409 [INFO] src.console_functions: Console received 'restart' command; restarting now.
2025-01-04 21:14:03,751 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-04 21:14:03,751 [DEBUG] __main__: Entering main_logic function...
2025-01-04 21:14:04,040 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'user_id': {'type': 'string', 'format': 'user_id'}, 'device_id': {'type': 'string'}, 'access_token': {'type': 'string'}}, 'required': ['user_id', 'device_id', 'access_token']}: {'user_id': '@director:localhost', 'access_token': 'syt_ZGlyZWN0b3I_oCiNYsgTMJiekihLAeWh_3hlwUg', 'home_server': 'localhost', 'device_id': 'DPPMHMDZSA'}
2025-01-04 21:14:04,040 [INFO] __main__: Director logged in successfully.
2025-01-04 21:14:04,040 [DEBUG] __main__: Starting sync_forever loop. Waiting for new events...
2025-01-04 21:14:04,054 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_954_2_34_56_1_1_83_0_1', 'account_data': {'events': [{'type': 'm.push_rules', 'content': {'global': {'underride': [{'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.call.invite'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'ring'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.call', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted_room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}, {'kind': 'room_member_count', 'is': '2'}], 'actions': ['notify', {'set_tweak': 'sound', 'value': 'default'}, {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.room_one_to_one', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.message'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.message', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.encrypted'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.m.rule.encrypted', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'im.vector.modular.widgets'}, {'kind': 'event_match', 'key': 'content.type', 'pattern': 'jitsi'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '*'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}], 'rule_id': '.im.vector.jitsi', 'default': True, 'enabled': True}], 'sender': [], 'room': [], 'content': [{'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_user_name', 'default': True, 'pattern': 'director', 'enabled': True}], 'override': [{'conditions': [], 'actions': [], 'rule_id': '.m.rule.master', 'default': True, 'enabled': False}, {'conditions': [{'kind': 'event_match', 'key': 'content.msgtype', 'pattern': 'm.notice'}], 'actions': [], 'rule_id': '.m.rule.suppress_notices', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}, {'kind': 'event_match', 'key': 'content.membership', 'pattern': 'invite'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight', 'value': False}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.invite_for_me', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.member'}], 'actions': [], 'rule_id': '.m.rule.member_event', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_contains', 'key': 'content.m\\.mentions.user_ids', 'value': '@director:localhost'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.is_user_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'contains_display_name'}], 'actions': ['notify', {'set_tweak': 'highlight'}, {'set_tweak': 'sound', 'value': 'default'}], 'rule_id': '.m.rule.contains_display_name', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.mentions.room', 'value': True}, {'kind': 'sender_notification_permission', 'key': 'room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.is_room_mention', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'sender_notification_permission', 'key': 'room'}, {'kind': 'event_match', 'key': 'content.body', 'pattern': '@room'}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.roomnotif', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.tombstone'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': ['notify', {'set_tweak': 'highlight'}], 'rule_id': '.m.rule.tombstone', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.reaction'}], 'actions': [], 'rule_id': '.m.rule.reaction', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_match', 'key': 'type', 'pattern': 'm.room.server_acl'}, {'kind': 'event_match', 'key': 'state_key', 'pattern': ''}], 'actions': [], 'rule_id': '.m.rule.room.server_acl', 'default': True, 'enabled': True}, {'conditions': [{'kind': 'event_property_is', 'key': 'content.m\\.relates_to.rel_type', 'value': 'm.replace'}], 'actions': [], 'rule_id': '.m.rule.suppress_edits', 'default': True, 'enabled': True}]}}}]}, 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 11, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 998490}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': [], 'rooms': {'join': {'!jqLnezkXSKwnRifFZu:localhost': {'timeline': {'events': [{'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039063417, 'unsigned': {'membership': 'join', 'age': 4180635}, 'event_id': '$LQlgjW2ubDXtBTB1Em-f0j43x4Kr0vQMZmCf2-_Fpa0'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039307039, 'unsigned': {'membership': 'join', 'age': 3937013}, 'event_id': '$34G5Eaf96qdZu5XapkCe8xA7EGQqdPRKVsWqfULdbhk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039398656, 'unsigned': {'membership': 'join', 'age': 3845396}, 'event_id': '$FpWC2mW9nhK3KgOh1rICWDbdTP0WSza4wCTVVHi5mzM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039898834, 'unsigned': {'membership': 'join', 'age': 3345218}, 'event_id': '$s4hEYJXVqvGPey2MkxfXP4GV6hQxu1NdW1SDPcC6QZo'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736039935431, 'unsigned': {'membership': 'join', 'age': 3308621}, 'event_id': '$TujL6sa47zXcVWFPNUYvhpNVCwLDRSUn2SCCTIfASrg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040188974, 'unsigned': {'membership': 'join', 'age': 3055078}, 'event_id': '$bSdp2t9z7ZW07XYZ71UE_IC1d89vJK5WrJc95BnukiM'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040344576, 'unsigned': {'membership': 'join', 'age': 2899476}, 'event_id': '$IVKJmHqTFszYWpcsK9nGsAXJMnR8piZcNqZEWCJZgRg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040360198, 'unsigned': {'membership': 'join', 'age': 2883854}, 'event_id': '$_cBvgqH10znQ9Hyr2mbfZse4XGu83aOZwvNwUkWQZMw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736040363577, 'unsigned': {'membership': 'join', 'age': 2880475}, 'event_id': '$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {'msgtype': 'm.text', 'body': "Hello @evan:localhost, you said 'test' (auto-respond)."}, 'origin_server_ts': 1736041849055, 'unsigned': {'membership': 'join', 'age': 1394997}, 'event_id': '$DvMc1-0ufcOk6k2TJW0hii95uiL44xaI4Mmz2DZdaNY'}], 'prev_batch': 's98_954_2_34_56_1_1_83_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 82220189}, 'event_id': '$7quHRvYxDrNhEw0MTdkdYoRuQGre8X6DBXX1yl3D1Fs'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735961023863, 'unsigned': {'age': 82220189}, 'event_id': '$_H_dJEnBOa2F-6wYcAibZjb6ccYX0uptXhJTvFuKPLE'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100, '@director:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735961023856, 'unsigned': {'age': 82220196}, 'event_id': '$ZAbLg379boqmPpm8qFu4qdoSyfAWdlqYDtPjzZHjbuo'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735961023822, 'unsigned': {'age': 82220230}, 'event_id': '$gNwrXvtctDUY-UvSt_3kSfWD80ieAlHLG25JkN0aGoQ'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735962683824, 'unsigned': {'replaces_state': '$zrFOStMred3Fj3QC-a5jW2oG6aIfaV7f5FNtkpd6cq0', 'prev_content': {'is_direct': True, 'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'age': 80560228}, 'event_id': '$_RWGVfkRBwBZCRu_8x1wN0Oc0LydC-H2iGOKiQXL_nY'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735961023862, 'unsigned': {'age': 82220190}, 'event_id': '$S7vFxwSaTIIYoJMHNCJfmSlhu9OYSJ6fkOBjzpuxeMg'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735961023847, 'unsigned': {'age': 82220205}, 'event_id': '$v4SBfUMjRU4RTdh-OVvfUL57l0NYfRR8AecVE9wBQyU'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$FQlmrypdbt4ifuqs144zL6jLFwwL0H2klRCl_GlPfpY': {'m.read': {'@evan:localhost': {'ts': 1736040488969, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 2, 'highlight_count': 0}, 'summary': {}}, '!EsqsnWFdzkOCEcTwqX:localhost': {'timeline': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1736040506978, 'unsigned': {'membership': 'leave', 'age': 2737074}, 'event_id': '$35HiBIXx0fzOzHyjh5m8GQc08n34VDR-0MKd3ISBkbU'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736040507001, 'unsigned': {'membership': 'leave', 'age': 2737051}, 'event_id': '$o3zuIfYu43GUd7l94eUAZok61cDOuk4NiVbZL373Lhw'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1736040507020, 'unsigned': {'membership': 'leave', 'age': 2737032}, 'event_id': '$HZK3x_d0puDrWGVrepHPN-BAFAJLUEhROwTzfcYWgNM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 2737021}, 'event_id': '$obiM1oEs15xVHBkP46yq9u64K3Nm0sqvpsjqGA6s0os'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 2737021}, 'event_id': '$38TZYs0rNPUH7OETCv4TFOgaGDkdRF9oA0KHX7KDB-s'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 2737021}, 'event_id': '$F2376bsEHL1K66AbSJxx2ssDr7tDFKfI7d9i08SOriM'}, {'type': 'm.room.encryption', 'sender': '@evan:localhost', 'content': {'algorithm': 'm.megolm.v1.aes-sha2'}, 'state_key': '', 'origin_server_ts': 1736040507031, 'unsigned': {'membership': 'leave', 'age': 2737021}, 'event_id': '$kH-E28eBaN06p8NT2IrrdPhanvGqBv2O1bc9-kLWWoo'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'AutoJoin Test 1'}, 'state_key': '', 'origin_server_ts': 1736040507032, 'unsigned': {'membership': 'leave', 'age': 2737020}, 'event_id': '$KBn0sDlB9Z0N2gOqpbvuRjOwhkFGOoVy-XpbPnVGM30'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041701806, 'unsigned': {'membership': 'invite', 'age': 1542246}, 'event_id': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736041849033, 'unsigned': {'replaces_state': '$XPETI5gvzBjDEg4Ix3a3Dewqxg5JranzMuVOks7U1Qc', 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 1395019}, 'event_id': '$AduTPeAk0n7sxBzMiRHnOC_OIjQdaouLE8ad050_fbQ'}], 'prev_batch': 's118_954_2_34_56_1_1_83_0_1', 'limited': False}, 'state': {'events': []}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$AduTPeAk0n7sxBzMiRHnOC_OIjQdaouLE8ad050_fbQ': {'m.read': {'@evan:localhost': {'ts': 1736042065302, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}, '!qzFzZtzCgoVGFclbBb:localhost': {'timeline': {'events': [{'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'membership': 'leave', 'age': 43255510}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}, {'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 50, 'historical': 100, 'm.call.invite': 50}, 'state_key': '', 'origin_server_ts': 1735999988556, 'unsigned': {'membership': 'leave', 'age': 43255496}, 'event_id': '$4tddHONbJG-tnXqVqJmCb8ZCJkJAhZAlz3MiqmX6dn0'}, {'type': 'm.room.canonical_alias', 'sender': '@evan:localhost', 'content': {'alias': '#MySecondChannel:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 43255488}, 'event_id': '$QEDnTRhMCLjR2mafCjFd23__O9_BEa0Jpi6wfWPZqbM'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'public'}, 'state_key': '', 'origin_server_ts': 1735999988564, 'unsigned': {'membership': 'leave', 'age': 43255488}, 'event_id': '$guWbivgy9qsKGUgLcwFiFE5vyj4465srG4CHGIClquk'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 43255487}, 'event_id': '$sYZxY1l-RcFe1hPNt8tpnrr5x_Q4-IGVXWgQj7msR6M'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MySecondChannel'}, 'state_key': '', 'origin_server_ts': 1735999988565, 'unsigned': {'membership': 'leave', 'age': 43255487}, 'event_id': '$279h2GSzI4CQFTd6VEzdrcMYxxz17BAwewcKxs4NTl4'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'director', 'membership': 'invite'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107599, 'unsigned': {'membership': 'invite', 'age': 43136453}, 'event_id': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736000107640, 'unsigned': {'replaces_state': '$NJmJar0xythZsB8EoceassQwwzyDPOeiXkIS6hpQ9SM', 'redacted_by': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'age': 4277461}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, 'prev_content': {'displayname': 'director', 'membership': 'invite'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 43136412}, 'event_id': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w'}, 'redacts': '$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w', 'origin_server_ts': 1736038966591, 'unsigned': {'membership': 'join', 'age': 4277461}, 'event_id': '$rSv9QOt3xpczGRXqZ23QDcpr07VJZYYV60TISsvZ8No'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1736039056516, 'unsigned': {'replaces_state': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4', 'prev_content': {'displayname': 'evan', 'membership': 'join'}, 'prev_sender': '@evan:localhost', 'membership': 'join', 'age': 4187536}, 'event_id': '$lH1icHdKIffAvcqgxDd6Mg8YPEx0IxOIMyawRAq7LgQ'}], 'prev_batch': 's62_954_2_34_56_1_1_83_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735999988518, 'unsigned': {'age': 43255534}, 'event_id': '$V19id8MCGCMAV93FiyVUsHzm9-0QKLh4Y_wHzZbGsfM'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735999988542, 'unsigned': {'age': 43255510}, 'event_id': '$rXjzsjUDDSuG4lk82ssoX8XFcvmN6J_pgH5AWPmh2O4'}]}, 'account_data': {'events': []}, 'ephemeral': {'events': [{'type': 'm.receipt', 'content': {'$foKb8TH_wI7VxsK1P5gtdN-vlrw6eqZQTLronV_qT2w': {'m.read': {'@evan:localhost': {'ts': 1736000108094, 'thread_id': 'main'}}}}}]}, 'unread_notifications': {'notification_count': 0, 'highlight_count': 0}, 'summary': {}}}, 'leave': {'!ycPwYaTaAbSpLcHdMt:localhost': {'timeline': {'events': [{'type': 'm.room.pinned_events', 'sender': '@evan:localhost', 'content': {'pinned': ['$5OCVp9J50G5BLuqX-_F4vSkbyQotGgc42aXvB4lQGYQ']}, 'state_key': '', 'origin_server_ts': 1735973924321, 'unsigned': {'membership': 'join', 'age': 69319731}, 'event_id': '$dtWn0UqMgWnOoAlDvkBaM5HA3i5dVdrgKpB7KGamyA8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735973963069, 'unsigned': {'redacted_by': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, 'redacts': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8', 'origin_server_ts': 1736038978832, 'unsigned': {'age': 4265220}, 'event_id': '$c1zxcx9E9AZiFqYTmFXapn8FzsFetR6bDIZASg2B6U0'}, 'membership': 'join', 'age': 69280983}, 'event_id': '$qEyXWelmh0-bWgnZk2xg8FHIR3fZySVaRDih88B-SU8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974203231, 'unsigned': {'redacted_by': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, 'redacts': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8', 'origin_server_ts': 1736038978815, 'unsigned': {'age': 4265237}, 'event_id': '$lhwzkJhp_uQBJwNThIXKM3kBHgG-36VpjWJuNVKJsmY'}, 'membership': 'join', 'age': 69040821}, 'event_id': '$4c9EKmOBxh0IQ4ZT0cvM0tThUgGvaODk0KZmquBNQr8'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974806857, 'unsigned': {'redacted_by': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, 'redacts': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk', 'origin_server_ts': 1736038978788, 'unsigned': {'age': 4265264}, 'event_id': '$1viBk8vQ4mqi1YBOydvEI_C17uel6nGF6ECAuK9m8Hw'}, 'membership': 'join', 'age': 68437195}, 'event_id': '$7H5oKkq2gIQvRmKpcwaliRmr52scU39tzUoQA9kaMJk'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974832223, 'unsigned': {'redacted_by': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, 'redacts': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4', 'origin_server_ts': 1736038978770, 'unsigned': {'age': 4265282}, 'event_id': '$L27qX-9P2BdQ4oygv_Ynv7S5apJWlIfKHz_m4BndN_Y'}, 'membership': 'join', 'age': 68411829}, 'event_id': '$L26zuegO3yuCKwzYkHnE3rz1x-PXpls4Z7aAwqDbjf4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735974935827, 'unsigned': {'redacted_by': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, 'redacts': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw', 'origin_server_ts': 1736038978748, 'unsigned': {'age': 4265304}, 'event_id': '$XaMVnCfwq9z9VGkqcD22Inizz7sXsfFtwkqur_FhhQM'}, 'membership': 'join', 'age': 68308225}, 'event_id': '$cUsdciIyHav8DYl-bPQtCUDrSaV1WsJOXmtn9Qne5Cw'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975213938, 'unsigned': {'redacted_by': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, 'redacts': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4', 'origin_server_ts': 1736038978726, 'unsigned': {'age': 4265326}, 'event_id': '$5NwgzIJ2TbfVRrGIol3TIoC8ijxwhqYl0MU5UGnYowA'}, 'membership': 'join', 'age': 68030114}, 'event_id': '$04Wbf4Ge6MJDAu3oEQfqLki1q5Lj8nBBErI0zbIgsD4'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735975536471, 'unsigned': {'redacted_by': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, 'redacts': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg', 'origin_server_ts': 1736038978708, 'unsigned': {'age': 4265344}, 'event_id': '$T2Lohblm7EC7QLwg7Rrjno8zM2Zi-eIi7vneunWtURU'}, 'membership': 'join', 'age': 67707581}, 'event_id': '$ZtrecrDPMXBYrXbLmPHDrHPs6D4vu9-ilxPg-ByX6hg'}, {'type': 'm.room.message', 'sender': '@director:localhost', 'content': {}, 'origin_server_ts': 1735999932985, 'unsigned': {'redacted_by': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo', 'redacted_because': {'type': 'm.room.redaction', 'sender': '@evan:localhost', 'content': {'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, 'redacts': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8', 'origin_server_ts': 1736038978646, 'unsigned': {'age': 4265406}, 'event_id': '$pqzn8DXokl4NZKfpYB07TvOkGjjNxOw7qmFZZ2BWpoo'}, 'membership': 'join', 'age': 43311067}, 'event_id': '$jiP_mip3TBmJ2royoCy2U3LOs90ZTc4upujU237Pkv8'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'membership': 'leave'}, 'state_key': '@director:localhost', 'origin_server_ts': 1736038975959, 'unsigned': {'replaces_state': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0', 'prev_content': {'displayname': 'director', 'membership': 'join'}, 'prev_sender': '@director:localhost', 'membership': 'leave', 'age': 4268093}, 'event_id': '$9U4I5CAHOJcLIXnMkdqg2UC-3ZHUnBW8GbfQnj7A-5U'}], 'prev_batch': 's52_954_2_34_56_1_1_83_0_1', 'limited': True}, 'state': {'events': [{'type': 'm.room.power_levels', 'sender': '@evan:localhost', 'content': {'users': {'@evan:localhost': 100}, 'users_default': 0, 'events': {'m.room.name': 50, 'm.room.avatar': 50, 'm.room.power_levels': 100, 'm.room.history_visibility': 100, 'm.room.canonical_alias': 50, 'm.room.tombstone': 100, 'm.room.server_acl': 100, 'm.room.encryption': 100, 'org.matrix.msc3401.call.member': 0, 'org.matrix.msc3401.call': 100}, 'events_default': 0, 'state_default': 50, 'ban': 50, 'kick': 50, 'redact': 50, 'invite': 0, 'historical': 100}, 'state_key': '', 'origin_server_ts': 1735958683337, 'unsigned': {'age': 84560715}, 'event_id': '$Wxq1Tg74YoIoFW1bBCy4vvOMrpev09rRqY_fAZO6omg'}, {'type': 'm.room.create', 'sender': '@evan:localhost', 'content': {'room_version': '10', 'creator': '@evan:localhost'}, 'state_key': '', 'origin_server_ts': 1735958683291, 'unsigned': {'age': 84560761}, 'event_id': '$rgDKGRS2U6T0z84an_RoGvjjzmFlzEy3jbvJTuEcvD0'}, {'type': 'm.room.member', 'sender': '@evan:localhost', 'content': {'displayname': 'evan', 'membership': 'join'}, 'state_key': '@evan:localhost', 'origin_server_ts': 1735958683324, 'unsigned': {'age': 84560728}, 'event_id': '$jnOhRmoE7eXSccLHDWxqfFAc7f-2bDMezRMfq4ZqbEo'}, {'type': 'm.room.member', 'sender': '@director:localhost', 'content': {'displayname': 'director', 'membership': 'join'}, 'state_key': '@director:localhost', 'origin_server_ts': 1735964447159, 'unsigned': {'replaces_state': '$YCk4i8n3bE3A8m0LDVo-IGQ6UNc0su37KTjlz0FcFDA', 'age': 78796893}, 'event_id': '$ze9ApOG8rSsqv1P6vYlLCOr00IyF0sdkP8GLpbxM1U0'}, {'type': 'm.room.join_rules', 'sender': '@evan:localhost', 'content': {'join_rule': 'invite'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 84560708}, 'event_id': '$cukaDWkSW9mo1Yb-QS1UWvajqaen5eBuW4vZIDpUpDY'}, {'type': 'm.room.name', 'sender': '@evan:localhost', 'content': {'name': 'MyFirstChannel'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 84560707}, 'event_id': '$lnXrf-3jERhg_faW3BoJT_IWEM_yLkTmcaPgN-0ksyc'}, {'type': 'm.room.guest_access', 'sender': '@evan:localhost', 'content': {'guest_access': 'can_join'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 84560708}, 'event_id': '$HdaoJxokij4uI9rkv3H5s4LyJTIrk363mLoJ3TUBfN0'}, {'type': 'm.room.history_visibility', 'sender': '@evan:localhost', 'content': {'history_visibility': 'shared'}, 'state_key': '', 'origin_server_ts': 1735958683344, 'unsigned': {'age': 84560708}, 'event_id': '$uhr2ubGtbYr4aJX7Ae6SNKhjmUcixROPjf8O3VN9YXI'}, {'type': 'm.room.topic', 'sender': '@evan:localhost', 'content': {'topic': 'For the winners'}, 'state_key': '', 'origin_server_ts': 1735958683345, 'unsigned': {'age': 84560707}, 'event_id': '$M4h-LcezFLlEHaw_6-eqHtR2fwBiwHqI6WdhyVuTPIo'}]}, 'account_data': {'events': []}}}}}
2025-01-04 21:14:04,059 [INFO] nio.client.base_client: New joined room !jqLnezkXSKwnRifFZu:localhost
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomGuestAccessEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type PowerLevelsEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomCreateEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomJoinRulesEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !jqLnezkXSKwnRifFZu:localhost handling event of type RoomMessageText
2025-01-04 21:14:04,059 [DEBUG] src.luna_functions: Received message from ourselves; ignoring.
2025-01-04 21:14:04,059 [INFO] nio.client.base_client: New joined room !EsqsnWFdzkOCEcTwqX:localhost
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomCreateEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type PowerLevelsEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomJoinRulesEvent
2025-01-04 21:14:04,059 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomGuestAccessEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomEncryptionEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !EsqsnWFdzkOCEcTwqX:localhost handling event of type RoomNameEvent
2025-01-04 21:14:04,060 [INFO] nio.client.base_client: New joined room !qzFzZtzCgoVGFclbBb:localhost
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomCreateEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type PowerLevelsEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Changing power level for user @evan:localhost from 0 to 100
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomAliasEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomJoinRulesEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomHistoryVisibilityEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RoomNameEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactedEvent
2025-01-04 21:14:04,060 [INFO] nio.rooms: Room !qzFzZtzCgoVGFclbBb:localhost handling event of type RedactionEvent
2025-01-04 21:14:34,071 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_954_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:15:04,084 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_956_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 30006, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1058518}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:15:34,124 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_956_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:16:04,138 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_956_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:16:04,155 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_958_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 5, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1118587}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:16:34,168 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_958_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:17:04,188 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_958_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:17:04,218 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_960_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 8, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1178640}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:17:34,243 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_960_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:18:04,296 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_960_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:18:04,311 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_962_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1238742}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:18:34,327 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_962_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:19:04,344 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_962_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:19:04,368 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_964_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1298792}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:19:34,404 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_964_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:20:04,417 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_964_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:20:04,430 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_966_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 3, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1358864}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:20:34,445 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_966_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:21:04,454 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_966_2_34_56_1_1_83_0_1', 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
2025-01-04 21:21:04,464 [DEBUG] nio.responses: Validating response schema {'type': 'object', 'properties': {'device_one_time_keys_count': {'type': 'object', 'default': {}, 'properties': {'curve25519': {'type': 'integer'}, 'signed_curve25519': {'type': 'integer'}}}, 'device_lists': {'type': 'object', 'default': {}, 'properties': {'changed': {'type': 'array', 'items': {'type': 'string'}}, 'left': {'type': 'array', 'items': {'type': 'string'}}}}, 'next_batch': {'type': 'string'}, 'rooms': {'type': 'object', 'default': {'invite': {}, 'join': {}, 'leave': {}}, 'properties': {'invite': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'invite_state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'join': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'properties': {'events': {'type': 'array'}, 'limited': {'type': 'boolean'}, 'prev_batch': {'type': 'string'}}, 'required': ['events']}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'ephemeral': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'summary': {'type': 'object', 'properties': {'m.invited_member_count': {'type': 'integer'}, 'm.joined_member_count': {'type': 'integer'}, 'm.heroes': {'type': 'array', 'items': {'type': 'string'}}}}, 'account_data': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}, 'leave': {'type': 'object', 'default': {}, 'patternProperties': {'^!.+:.+$': {'type': 'object', 'properties': {'timeline': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'state': {'type': 'object', 'default': {}, 'properties': {'events': {'type': 'array', 'default': []}}}}}}}}}, 'to_device': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}, 'presence': {'type': 'object', 'default': {'events': []}, 'properties': {'events': {'type': 'array', 'default': []}}}}, 'required': ['next_batch']}: {'next_batch': 's118_968_2_34_56_1_1_83_0_1', 'presence': {'events': [{'type': 'm.presence', 'sender': '@director:localhost', 'content': {'presence': 'online', 'last_active_ago': 2, 'currently_active': True}}, {'type': 'm.presence', 'sender': '@evan:localhost', 'content': {'presence': 'unavailable', 'last_active_ago': 1418900}}]}, 'device_one_time_keys_count': {'signed_curve25519': 0}, 'org.matrix.msc2732.device_unused_fallback_key_types': [], 'device_unused_fallback_key_types': []}
