<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Luna Command List</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      max-width: 1000px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
    }
    th {
      background-color: #f4f4f4;
      text-align: left;
    }
    .usage {
      font-family: monospace;
      font-size: 0.9em;
    }
    .desc {
      color: #555;
    }
    .checkbox-cell {
      text-align: center;
      width: 60px;
    }
  </style>
</head>
<body>
  <h2>Luna Commands</h2>
  <p>Below is a table of the various console commands currently available in Luna, with brief usage and descriptions. Check the box when you've tested each command!</p>

  <table>
    <thead>
      <tr>
        <th>Command</th>
        <th>Usage</th>
        <th>Description</th>
        <th>Test</th>
      </tr>
    </thead>
    <tbody>
      <!-- help -->
      <tr>
        <td><strong>help</strong></td>
        <td class="usage">help</td>
        <td class="desc">Shows usage for all known commands in a more readable format.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- exit -->
      <tr>
        <td><strong>exit</strong></td>
        <td class="usage">exit</td>
        <td class="desc">Gracefully shuts down Luna by setting a shutdown flag and stopping the main loop.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- restart -->
      <tr>
        <td><strong>restart</strong></td>
        <td class="usage">restart</td>
        <td class="desc">Kills and relaunches the process with the same arguments.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- log -->
      <tr>
        <td><strong>log</strong></td>
        <td class="usage">log</td>
        <td class="desc">Displays the log file path and provides a note about the logs.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- autojoin -->
      <tr>
        <td><strong>autojoin</strong></td>
        <td class="usage">autojoin &lt;enable|disable&gt;</td>
        <td class="desc">Toggles or displays the current auto-join status for new invited rooms.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- rotate_logs -->
      <tr>
        <td><strong>rotate_logs</strong></td>
        <td class="usage">rotate_logs</td>
        <td class="desc">Renames 'server.log' to a timestamped file, then starts a fresh log file.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- check_matrix -->
      <tr>
        <td><strong>check_matrix</strong></td>
        <td class="usage">check-limit</td>
        <td class="desc">Makes a single short sync request to see if you are rate-limited (HTTP 429).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- show_shutdown -->
      <tr>
        <td><strong>show_shutdown</strong></td>
        <td class="usage">show_shutdown</td>
        <td class="desc">Prints the current value of SHOULD_SHUT_DOWN (a boolean).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- who -->
      <tr>
        <td><strong>who</strong></td>
        <td class="usage">who</td>
        <td class="desc">Shows the current director's user ID (if any).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- clear -->
      <tr>
        <td><strong>clear</strong></td>
        <td class="usage">clear</td>
        <td class="desc">Clears the console screen.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- purge_and_seed -->
      <tr>
        <td><strong>purge_and_seed</strong></td>
        <td class="usage">purge_and_seed</td>
        <td class="desc">Destroys data (Synapse DB, CSV, tokens), re-registers accounts, and optionally restarts Luna.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- banner -->
      <tr>
        <td><strong>banner</strong></td>
        <td class="usage">(No usage info)</td>
        <td class="desc">Displays a large ASCII banner for LunaBot.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- create_room -->
      <tr>
        <td><strong>create_room</strong></td>
        <td class="usage">create_room &lt;roomName&gt; [--private]</td>
        <td class="desc">Creates a new Matrix room (public by default, can be private with --private).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- create_bot -->
      <tr>
        <td><strong>create_bot</strong></td>
        <td class="usage">create_bot '{"localpart": "...", ...}'</td>
        <td class="desc">Creates a bot persona from the provided JSON (localpart, displayname, etc.).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- fetch_all -->
      <tr>
        <td><strong>fetch_all</strong></td>
        <td class="usage">fetch_all</td>
        <td class="desc">Fetches all historical messages from all joined rooms in pages, storing them in a CSV.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- fetch_new -->
      <tr>
        <td><strong>fetch_new</strong></td>
        <td class="usage">fetch_new</td>
        <td class="desc">Performs an incremental fetch of new messages since the last sync token.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- list_users -->
      <tr>
        <td><strong>list_users</strong></td>
        <td class="usage">list_users [--json]</td>
        <td class="desc">Lists users from the Synapse server, either in a table or JSON format.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- list_channels -->
      <tr>
        <td><strong>list_channels</strong></td>
        <td class="usage">list_rooms [--json]</td>
        <td class="desc">Lists Matrix rooms (name, ID, participants, etc.) as a table or JSON.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- list_server -->
      <tr>
        <td><strong>list_server</strong></td>
        <td class="usage">cmd_list_server</td>
        <td class="desc">Lists server rooms with summary info, then lists the server users as well.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- server -->
      <tr>
        <td><strong>server</strong></td>
        <td class="usage">cmd_list_server</td>
        <td class="desc">An alias for list_server, showing rooms and users on the server.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- invite_user -->
      <tr>
        <td><strong>invite_user</strong></td>
        <td class="usage">invite_user &lt;user_id&gt; &lt;room_id&gt;</td>
        <td class="desc">Force-invites a user to a given room, bypassing normal invite acceptance.</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- add_user_to_channel -->
      <tr>
        <td><strong>add_user_to_channel</strong></td>
        <td class="usage">add_user &lt;user_id&gt; &lt;room_id_or_alias&gt;</td>
        <td class="desc">Force-joins a user to a room or alias (Synapse Admin API call).</td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- summon_random -->
      <tr>
        <td><strong>summon_random</strong></td>
        <td class="usage">(No usage line found.)</td>
        <td class="desc">Delegates to cmd_create_inspired_bot (creating a persona from GPT). </td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
      <!-- assemble -->
      <tr>
        <td><strong>assemble</strong></td>
        <td class="usage">(No usage line found.)</td>
        <td class="desc">Calls GPT asynchronously, parses the JSON result, and prints it. </td>
        <td class="checkbox-cell"><input type="checkbox" /></td>
      </tr>
    </tbody>
  </table>
</body>
</html>
